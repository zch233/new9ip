import{d as e,_ as a,r as t,am as n,w as o,e as s,p as l,f as c,h as r,i as u,j as i,m as p,k as v,n as d}from"./index.f1efcfa5.js";import{s as f}from"./collect.0438e8b5.js";var m=e({name:"starIcon",components:{Icon:a},props:{complex:Boolean,patent:{type:Object,default:()=>({})}},setup(e,a){const l=t(!1),{patent:c}=n(e),r=t(!1);return o((()=>{r.value=c.value.collected})),{patent:c,collected:r,optionPatent:()=>{return e=this,t=null,n=function*(){l.value||(l.value=!0,yield f(c.value.id).finally((()=>l.value=!1)),s.success(r.value?"已从我的收藏移除":"已加入我的收藏"),r.value=!r.value,a.emit("star",r.value))},new Promise(((a,o)=>{var s=e=>{try{c(n.next(e))}catch(a){o(a)}},l=e=>{try{c(n.throw(e))}catch(a){o(a)}},c=e=>e.done?a(e.value):Promise.resolve(e.value).then(s,l);c((n=n.apply(e,t)).next())}));var e,t,n}}}});const y=d("data-v-661df504");l("data-v-661df504");const h={key:0};c();const x=y(((e,a,t,n,o,s)=>{const l=r("Icon");return u(),i("div",{class:"starIcon",onClick:a[1]||(a[1]=(...a)=>e.optionPatent&&e.optionPatent(...a))},[e.complex?(u(),i("label",h,"收藏")):p("",!0),v(l,{icon:"star"+(e.collected?"_fill":"")},null,8,["icon"])])}));m.render=x,m.__scopeId="data-v-661df504";export{m as _};
