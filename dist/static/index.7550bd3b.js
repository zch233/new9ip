import{aX as t,d as e,S as n,P as a,z as o,G as r,H as i,E as l,bg as c,k as s,R as d,N as u,B as f,h as p,i as m,j as v,y as g,q as b,_ as C,u as y,a as h,a$ as T,r as A,o as P,ay as _,a5 as I,az as x,a6 as k,p as j,f as N,t as R,m as S,F as E,l as U}from"./index.41cae262.js";import{_ as B}from"./index.f969e56e.js";import{_ as O}from"./index.526f0eef.js";import{T as w}from"./index.cef36c8a.js";import{a as $,A as L}from"./Col.849e111a.js";import{I as V}from"./index.bd9c6f10.js";import{_ as Y}from"./UIButton.4138a611.js";import{_ as G}from"./UISkeleton.5dd8bf5f.js";import{_ as K}from"./index.7e44960b.js";import{g as z,o as D}from"./orderConfirm.806738fb.js";import{s as M}from"./index.02805135.js";import"./vendor.5c0531cb.js";import"./debounce.845f4170.js";import"./isSymbol.eb973816.js";import"./toNumber.6fcb4a95.js";import"./CheckOutlined.86ab5970.js";import"./LeftOutlined.1ff5e25f.js";import"./SearchOutlined.2f633f88.js";import"./UIModal.5da082b7.js";var W=t($),X=t(L);function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!l(t)}var H=w.TabPane,J=e({name:"ACard",mixins:[n],props:{prefixCls:a.string,title:a.VNodeChild,extra:a.VNodeChild,bordered:a.looseBool.def(!0),bodyStyle:a.style,headStyle:a.style,loading:a.looseBool.def(!1),hoverable:a.looseBool.def(!1),type:a.string,size:a.oneOf(o("default","small")),actions:a.VNodeChild,tabList:{type:Array},tabBarExtraContent:a.VNodeChild,activeTabKey:a.string,defaultActiveTabKey:a.string,cover:a.VNodeChild,onTabChange:{type:Function}},setup:function(){return{configProvider:r("configProvider",i)}},data:function(){return{widerPadding:!1}},methods:{getAction:function(t){return t.map((function(e,n){return l(e)&&!c(e)||!l(e)?s("li",{style:{width:"".concat(100/t.length,"%")},key:"action-".concat(n)},[s("span",null,F(e)?e:{default:function(){return[e]}})]):null}))},triggerTabChange:function(t){this.$emit("tabChange",t)},isContainGrid:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach((function(e){e&&d(e.type)&&e.type.__ANT_CARD_GRID&&(t=!0)})),t}},render:function(){var t,e,n,a,o,r,i,l,c,d,p,m,v,g,b,C=this.$props,y=C.prefixCls,h=C.headStyle,T=void 0===h?{}:h,A=C.bodyStyle,P=void 0===A?{}:A,_=C.loading,I=C.bordered,x=void 0===I||I,k=C.size,j=void 0===k?"default":k,N=C.type,R=C.tabList,S=C.hoverable,E=C.activeTabKey,U=C.defaultActiveTabKey,B=this.$slots,O=u(this),$=(0,this.configProvider.getPrefixCls)("card",y),L=f(this,"tabBarExtraContent"),V=(q(v={},"".concat($),!0),q(v,"".concat($,"-loading"),_),q(v,"".concat($,"-bordered"),x),q(v,"".concat($,"-hoverable"),!!S),q(v,"".concat($,"-contain-grid"),this.isContainGrid(O)),q(v,"".concat($,"-contain-tabs"),R&&R.length),q(v,"".concat($,"-").concat(j),"default"!==j),q(v,"".concat($,"-type-").concat(N),!!N),v),Y=0===P.padding||"0px"===P.padding?{padding:24}:void 0,G=s("div",{class:"".concat($,"-loading-content"),style:Y},[s(W,{gutter:8},F(e=s(X,{span:22},F(t=s("div",{class:"".concat($,"-loading-block")},null))?t:{default:function(){return[t]}}))?e:{default:function(){return[e]}}),s(W,{gutter:8},{default:function(){return[s(X,{span:8},F(n=s("div",{class:"".concat($,"-loading-block")},null))?n:{default:function(){return[n]}}),s(X,{span:15},F(a=s("div",{class:"".concat($,"-loading-block")},null))?a:{default:function(){return[a]}})]}}),s(W,{gutter:8},{default:function(){return[s(X,{span:6},F(o=s("div",{class:"".concat($,"-loading-block")},null))?o:{default:function(){return[o]}}),s(X,{span:18},F(r=s("div",{class:"".concat($,"-loading-block")},null))?r:{default:function(){return[r]}})]}}),s(W,{gutter:8},{default:function(){return[s(X,{span:13},F(i=s("div",{class:"".concat($,"-loading-block")},null))?i:{default:function(){return[i]}}),s(X,{span:9},F(l=s("div",{class:"".concat($,"-loading-block")},null))?l:{default:function(){return[l]}})]}}),s(W,{gutter:8},{default:function(){return[s(X,{span:4},F(c=s("div",{class:"".concat($,"-loading-block")},null))?c:{default:function(){return[c]}}),s(X,{span:3},F(d=s("div",{class:"".concat($,"-loading-block")},null))?d:{default:function(){return[d]}}),s(X,{span:16},F(p=s("div",{class:"".concat($,"-loading-block")},null))?p:{default:function(){return[p]}})]}})]),K=void 0!==E,z=(q(g={size:"large"},K?"activeKey":"defaultActiveKey",K?E:U),q(g,"tabBarExtraContent",L),q(g,"onChange",this.triggerTabChange),q(g,"class","".concat($,"-head-tabs")),g),D=R&&R.length?s(w,z,F(m=R.map((function(t){var e=t.tab,n=t.slots,a=null==n?void 0:n.tab,o=void 0!==e?e:B[a]?B[a](t):null;return s(H,{tab:o,key:t.key,disabled:t.disabled},null)})))?m:{default:function(){return[m]}}):null,M=f(this,"title"),J=f(this,"extra");(M||J||D)&&(b=s("div",{class:"".concat($,"-head"),style:T},[s("div",{class:"".concat($,"-head-wrapper")},[M&&s("div",{class:"".concat($,"-head-title")},F(M)?M:{default:function(){return[M]}}),J&&s("div",{class:"".concat($,"-extra")},F(J)?J:{default:function(){return[J]}})]),D]));var Q=f(this,"cover"),Z=Q?s("div",{class:"".concat($,"-cover")},F(Q)?Q:{default:function(){return[Q]}}):null,tt=s("div",{class:"".concat($,"-body"),style:P},[_?G:O]),et=f(this,"actions"),nt=et&&et.length?s("ul",{class:"".concat($,"-actions")},[this.getAction(et)]):null;return s("div",{class:V,ref:"cardContainerRef"},[b,Z,O?tt:null,nt])}});function Q(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!l(t)}var Z=e({name:"ACardMeta",props:{prefixCls:a.string,title:a.VNodeChild,description:a.VNodeChild,avatar:a.VNodeChild},setup:function(){return{configProvider:r("configProvider",i)}},render:function(){var t,e,n,a=this.$props.prefixCls,o=(0,this.configProvider.getPrefixCls)("card",a),r=(t={},e="".concat(o,"-meta"),n=!0,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t),i=f(this,"avatar"),l=f(this,"title"),c=f(this,"description"),d=i?s("div",{class:"".concat(o,"-meta-avatar")},Q(i)?i:{default:function(){return[i]}}):null,u=l?s("div",{class:"".concat(o,"-meta-title")},Q(l)?l:{default:function(){return[l]}}):null,p=c?s("div",{class:"".concat(o,"-meta-description")},Q(c)?c:{default:function(){return[c]}}):null,m=u||p?s("div",{class:"".concat(o,"-meta-detail")},[u,p]):null;return s("div",{class:r},[d,m])}});function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var et=e({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:a.string,hoverable:a.looseBool},setup:function(){return{configProvider:r("configProvider",i)}},render:function(){var t,e=this.$props,n=e.prefixCls,a=e.hoverable,o=void 0===a||a,r=(0,this.configProvider.getPrefixCls)("card",n),i=(tt(t={},"".concat(r,"-grid"),!0),tt(t,"".concat(r,"-grid-hoverable"),o),t);return s("div",{class:i},[u(this)])}});J.Meta=Z,J.Grid=et,J.install=function(t){return t.component(J.name,J),t.component(Z.name,Z),t.component(et.name,et),t};var nt=e({name:"UICard",components:{AntCard:J}});const at=b("data-v-75f60f82"),ot=at(((t,e,n,a,o,r)=>{const i=p("AntCard");return m(),v(i,null,{default:at((()=>[g(t.$slots,"default")])),_:3})}));nt.render=ot,nt.__scopeId="data-v-75f60f82";var rt=e({name:"UIInputTextArea",components:{AntInputTextArea:V.TextArea}});const it=b("data-v-5c6c1525"),lt=it(((t,e,n,a,o,r)=>{const i=p("AntInputTextArea");return m(),v(i,null,{default:it((()=>[g(t.$slots,"default")])),_:3})}));rt.render=lt,rt.__scopeId="data-v-5c6c1525";var ct=e({name:"OrderConfirm",components:{AppTitleBar:B,OrderSteps:O,UIInputTextArea:rt,UICard:nt,Icon:C,UISkeleton:G,UIButton:Y,PatentImage:K},setup(){const t=y(),e=h(),n=T(t.query.commodityId),a=A(!1),o=A(!1),r=A(""),i=A(I[0]),l=A({});return P((()=>{a.value=!0,z({commodityId:n,commodityType:"PATENT"}).then((({data:t})=>{l.value=t})).catch((t=>{3200===t.code&&e.push("/order/pay/result?status=0&type=PATENT")})).finally((()=>a.value=!1))})),{PATENT_TYPE:_,PAY_ROUTES:I,PATENT_CERT_STATUS:x,remark:r,pageLoading:a,submitLoading:o,currentPayRoute:i,handleBuyClick:()=>{return t=this,a=null,l=function*(){const{payRoute:t,tradeType:a}=i.value;o.value=!0;const{data:l}=yield D({commodityId:n,commodityType:"PATENT",payRoute:t,tradeType:a,remark:r.value}).finally((()=>o.value=!1)),{orderNo:c,tradeNo:s}=l,d=`/order/pay/${"UMS_PAY"===t?"code":"WXPAY"===t?"wechat":"form"}?orderNo=${c}&tradeNo=${s}&type=PATENT&payRoute=${t}&tradeType=${a}`;"UMS_PAY"===t||"WXPAY"===t?yield e.push(d):(M({tradeNo:s,orderNo:c,type:"PATENT",getContainer:"orderConfirm"}),k(d))},new Promise(((e,n)=>{var o=t=>{try{i(l.next(t))}catch(e){n(e)}},r=t=>{try{i(l.throw(t))}catch(e){n(e)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,r);i((l=l.apply(t,a)).next())}));var t,a,l},orderConfirmation:l}}});const st=b("data-v-abe1cd62");j("data-v-abe1cd62");const dt={id:"orderConfirm",class:"orderConfirm"},ut={class:"pageWidthWithCenter orderConfirmWrapper"},ft={class:"orderConfirm-left"},pt={class:"orderConfirm-left-patent"},mt={class:"patentContent"},vt={class:"patentContent-image"},gt={class:"patentContent-info"},bt={class:"patentContent-info-title"},Ct={class:"patentContent-info-col"},yt=s("label",null,"专利类型",-1),ht=s("label",null,"发明人",-1),Tt={class:"patentContent-info-col"},At=s("label",null,"专利号",-1),Pt=s("label",null,"标签",-1),_t={class:"patentContent-info-col"},It=s("label",null,"法律状态",-1),xt=s("label",null,"价格",-1),kt={class:"patentContent-info-col"},jt=s("label",null,"缴费截止",-1),Nt=s("span",null,[s("label",null,"数量"),S("1")],-1),Rt={class:"orderConfirm-left-remark"},St={class:"orderConfirm-right"},Et={class:"orderConfirm-right-priceItem"},Ut=s("label",null,"原价",-1),Bt=s("label",null,"VIP会员",-1),Ot={class:"orderConfirm-right-priceItem totalAmount"},wt=s("label",null,"实付款",-1),$t={class:"orderConfirm-right-payRoutes"},Lt={class:"orderConfirm-right-payRoutes-item-info"},Vt=S("确认付款");N();const Yt=st(((t,e,n,a,o,r)=>{const i=p("OrderSteps"),l=p("AppTitleBar"),c=p("PatentImage"),d=p("UISkeleton"),u=p("UICard"),f=p("UIInputTextArea"),g=p("Icon"),b=p("UIButton");return m(),v("div",dt,[s(l,{title:"确认预购订单"},{default:st((()=>[s(i)])),_:1}),s("div",ut,[s("section",ft,[s("div",pt,[s(u,{title:"商品信息"},{default:st((()=>[s(d,{active:"",paragraph:{rows:5},loading:t.pageLoading},{default:st((()=>[s("div",mt,[s("div",vt,[s(c,{cover:t.orderConfirmation.categoryCover},null,8,["cover"])]),s("div",gt,[s("h2",bt,R(t.orderConfirmation.name),1),s("p",Ct,[s("span",null,[yt,S(R(t.orderConfirmation.number),1)]),s("span",null,[ht,S(R(t.orderConfirmation.inventorExplain),1)])]),s("p",Tt,[s("span",null,[At,S(R(t.PATENT_TYPE.label[t.orderConfirmation.type]),1)]),s("span",null,[Pt,S(R(t.orderConfirmation.tags),1)])]),s("p",_t,[s("span",null,[It,S(R(t.PATENT_CERT_STATUS.label[t.orderConfirmation.certStatus]),1)]),s("span",null,[xt,S("￥"+R(t.orderConfirmation.price),1)])]),s("p",kt,[s("span",null,[jt,S(R(t.orderConfirmation.paymentDeadline||"暂无"),1)]),Nt])])])])),_:1},8,["loading"])])),_:1})]),s("div",Rt,[s(u,{title:"预购订单备注"},{default:st((()=>[s(d,{active:"",paragraph:{rows:3},loading:t.pageLoading},{default:st((()=>[s(f,{value:t.remark,"onUpdate:value":e[1]||(e[1]=e=>t.remark=e),"html-type":"textarea",placeholder:"请输入预购订单备注（选填）",rows:6},null,8,["value"])])),_:1},8,["loading"])])),_:1})])]),s("section",St,[s(u,{title:"预购订单金额"},{default:st((()=>[s(d,{active:"",paragraph:{rows:13},loading:t.pageLoading},{default:st((()=>[s("p",Et,[Ut,s("span",null,"￥"+R(t.orderConfirmation.price),1)]),(m(!0),v(E,null,U(t.orderConfirmation.discounts||[],(t=>(m(),v("p",{class:"orderConfirm-right-priceItem",key:t.price},[Bt,s("span",null,"-￥"+R(t.price),1)])))),128)),s("p",Ot,[wt,s("b",null,"￥"+R(t.orderConfirmation.totalAmount),1)]),s("ul",$t,[(m(!0),v(E,null,U(t.PAY_ROUTES,(e=>(m(),v("li",{key:e.icon,onClick:n=>t.currentPayRoute=e,class:"orderConfirm-right-payRoutes-item"},[s(g,{class:"orderConfirm-right-payRoutes-item-payIcon",icon:e.icon},null,8,["icon"]),s("div",Lt,[s("b",null,R(e.label),1),s("p",null,R(e.description),1)]),s("div",{class:["orderConfirm-right-payRoutes-item-radio",[t.currentPayRoute.payRoute===e.payRoute&&"active"]]},[s(g,{icon:"tick"})],2)],8,["onClick"])))),128))]),s(b,{loading:t.submitLoading,class:"orderConfirm-right-payButton",onClick:t.handleBuyClick,"customer-class":"dangerButton",type:"primary",block:""},{default:st((()=>[Vt])),_:1},8,["loading","onClick"])])),_:1},8,["loading"])])),_:1})])])])}));ct.render=Yt,ct.__scopeId="data-v-abe1cd62";export default ct;
