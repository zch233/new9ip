let t=document.createElement("style");t.innerHTML=".orderConfirm[data-v-5d1606fa]{margin-bottom:10px}.orderConfirm .ant-card[data-v-5d1606fa]{height:100%}.orderConfirm-left[data-v-5d1606fa]{margin-right:10px;-webkit-box-flex:1;-webkit-flex:1 1 0;flex:1 1 0;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.orderConfirm-left-patent[data-v-5d1606fa]{margin-bottom:10px}.orderConfirm-left-patent .patentContent[data-v-5d1606fa]{display:-webkit-box;display:-webkit-flex;display:flex}.orderConfirm-left-patent .patentContent-image[data-v-5d1606fa]{width:200px;border:1px solid #dbdbdb;padding:4px}.orderConfirm-left-patent .patentContent-image img[data-v-5d1606fa]{width:100%}.orderConfirm-left-patent .patentContent-info[data-v-5d1606fa]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:34px}.orderConfirm-left-patent .patentContent-info-title[data-v-5d1606fa]{font-size:20px;font-weight:700;margin-bottom:.9em;line-height:1.4;height:2.8em}.orderConfirm-left-patent .patentContent-info-col[data-v-5d1606fa]{margin-bottom:9px;color:#333;display:-webkit-box;display:-webkit-flex;display:flex}.orderConfirm-left-patent .patentContent-info-col>span[data-v-5d1606fa]{width:46%}.orderConfirm-left-patent .patentContent-info-col[data-v-5d1606fa]:last-child{margin-bottom:0}.orderConfirm-left-patent .patentContent-info-col label[data-v-5d1606fa]{color:#666;display:inline-block;width:40%}.orderConfirm-left-remark[data-v-5d1606fa]{-webkit-box-flex:1;-webkit-flex:1 1 0;flex:1 1 0}.orderConfirm-right[data-v-5d1606fa]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30%}.orderConfirm-right-priceItem[data-v-5d1606fa]{color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:10px;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;line-height:1.6}.orderConfirm-right-priceItem[data-v-5d1606fa]:last-child{margin-bottom:20px}.orderConfirm-right-priceItem.totalAmount[data-v-5d1606fa]{margin-top:30px}.orderConfirm-right-priceItem.totalAmount b[data-v-5d1606fa]{color:#ff5858;font-size:30px;line-height:1}.orderConfirm-right-payRoutes[data-v-5d1606fa]{border-top:1px dashed #e8e8e8;padding:20px 0}.orderConfirm-right-payRoutes-item[data-v-5d1606fa]{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:flex;cursor:pointer}.orderConfirm-right-payRoutes-item-payIcon[data-v-5d1606fa]{font-size:42px}.orderConfirm-right-payRoutes-item-info[data-v-5d1606fa]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#999;font-size:12px;padding-left:20px}.orderConfirm-right-payRoutes-item-info p[data-v-5d1606fa]{margin-bottom:0}.orderConfirm-right-payRoutes-item-info b[data-v-5d1606fa]{font-size:14px;color:#333}.orderConfirm-right-payRoutes-item-radio[data-v-5d1606fa]{color:#fff;border:1px solid #dedede;-webkit-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;width:1.8em;height:1.8em;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:.2s;transition:.2s}.orderConfirm-right-payRoutes-item-radio.active[data-v-5d1606fa]{background-color:#ff5858;border-color:#ff5858}.orderConfirm-right-payButton[data-v-5d1606fa]{height:50px;font-size:18px;margin-top:10px}.orderConfirmWrapper[data-v-5d1606fa]{display:-webkit-box;display:-webkit-flex;display:flex;padding:20px 0}",document.head.appendChild(t);import{aL as e,d as a,O as n,P as o,y as r,E as i,K as l,D as d,aM as s,j as c,N as f,L as u,A as p,g as m,h as b,i as g,x as v,m as h,s as C,u as y,a as x,r as k,o as w,p as A,f as T,t as P,n as I,F as j,k as _}from"./index.0b18afc5.js";import"./index.2a5bb8c2.js";import"./SearchOutlined.67d9dee1.js";import"./raf.331b5efb.js";import"./CloseOutlined.fcbf699f.js";import"./debounce.e3f1c3e3.js";import"./LeftOutlined.dc465615.js";import"./CheckOutlined.609ff021.js";import{I as R}from"./index.a755525a.js";import"./index.64451891.js";import"./index.8c6984b6.js";import{T as N}from"./index.c09909fb.js";import{a as E,A as O}from"./Col.bcce5599.js";import{s as U}from"./index.a47a8eab.js";import{s as B}from"./UISkeleton.169c48e7.js";import{a as S,P as z}from"./dict.a53fee1f.js";import{s as L}from"./index.4339edc5.js";import{s as $}from"./UIButton.06602d76.js";import"./UIModal.cd3cb185.js";import{g as V,o as Y}from"./index.384d6146.js";import{s as K}from"./index.dc7249e6.js";import{s as M}from"./index.020ce5f1.js";import{g as D,o as G}from"./orderConfirm.5310309a.js";var W=e(E),F=e(O);function X(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function q(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!d(t)}var H=N.TabPane,J=a({name:"ACard",mixins:[n],props:{prefixCls:o.string,title:o.VNodeChild,extra:o.VNodeChild,bordered:o.looseBool.def(!0),bodyStyle:o.style,headStyle:o.style,loading:o.looseBool.def(!1),hoverable:o.looseBool.def(!1),type:o.string,size:o.oneOf(r("default","small")),actions:o.VNodeChild,tabList:{type:Array},tabBarExtraContent:o.VNodeChild,activeTabKey:o.string,defaultActiveTabKey:o.string,cover:o.VNodeChild,onTabChange:{type:Function}},setup:function(){return{configProvider:i("configProvider",l)}},data:function(){return{widerPadding:!1}},methods:{getAction:function(t){return t.map((function(e,a){return d(e)&&!s(e)||!d(e)?c("li",{style:{width:"".concat(100/t.length,"%")},key:"action-".concat(a)},[c("span",null,q(e)?e:{default:function(){return[e]}})]):null}))},triggerTabChange:function(t){this.$emit("tabChange",t)},isContainGrid:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach((function(e){e&&f(e.type)&&e.type.__ANT_CARD_GRID&&(t=!0)})),t}},render:function(){var t,e,a,n,o,r,i,l,d,s,f,m,b,g,v,h=this.$props,C=h.prefixCls,y=h.headStyle,x=void 0===y?{}:y,k=h.bodyStyle,w=void 0===k?{}:k,A=h.loading,T=h.bordered,P=void 0===T||T,I=h.size,j=void 0===I?"default":I,_=h.type,R=h.tabList,E=h.hoverable,O=h.activeTabKey,U=h.defaultActiveTabKey,B=this.$slots,S=u(this),z=(0,this.configProvider.getPrefixCls)("card",C),L=p(this,"tabBarExtraContent"),$=(X(b={},"".concat(z),!0),X(b,"".concat(z,"-loading"),A),X(b,"".concat(z,"-bordered"),P),X(b,"".concat(z,"-hoverable"),!!E),X(b,"".concat(z,"-contain-grid"),this.isContainGrid(S)),X(b,"".concat(z,"-contain-tabs"),R&&R.length),X(b,"".concat(z,"-").concat(j),"default"!==j),X(b,"".concat(z,"-type-").concat(_),!!_),b),V=0===w.padding||"0px"===w.padding?{padding:24}:void 0,Y=c("div",{class:"".concat(z,"-loading-content"),style:V},[c(W,{gutter:8},q(e=c(F,{span:22},q(t=c("div",{class:"".concat(z,"-loading-block")},null))?t:{default:function(){return[t]}}))?e:{default:function(){return[e]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:8},q(a=c("div",{class:"".concat(z,"-loading-block")},null))?a:{default:function(){return[a]}}),c(F,{span:15},q(n=c("div",{class:"".concat(z,"-loading-block")},null))?n:{default:function(){return[n]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:6},q(o=c("div",{class:"".concat(z,"-loading-block")},null))?o:{default:function(){return[o]}}),c(F,{span:18},q(r=c("div",{class:"".concat(z,"-loading-block")},null))?r:{default:function(){return[r]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:13},q(i=c("div",{class:"".concat(z,"-loading-block")},null))?i:{default:function(){return[i]}}),c(F,{span:9},q(l=c("div",{class:"".concat(z,"-loading-block")},null))?l:{default:function(){return[l]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:4},q(d=c("div",{class:"".concat(z,"-loading-block")},null))?d:{default:function(){return[d]}}),c(F,{span:3},q(s=c("div",{class:"".concat(z,"-loading-block")},null))?s:{default:function(){return[s]}}),c(F,{span:16},q(f=c("div",{class:"".concat(z,"-loading-block")},null))?f:{default:function(){return[f]}})]}})]),K=void 0!==O,M=(X(g={size:"large"},K?"activeKey":"defaultActiveKey",K?O:U),X(g,"tabBarExtraContent",L),X(g,"onChange",this.triggerTabChange),X(g,"class","".concat(z,"-head-tabs")),g),D=R&&R.length?c(N,M,q(m=R.map((function(t){var e=t.tab,a=t.slots,n=null==a?void 0:a.tab,o=void 0!==e?e:B[n]?B[n](t):null;return c(H,{tab:o,key:t.key,disabled:t.disabled},null)})))?m:{default:function(){return[m]}}):null,G=p(this,"title"),J=p(this,"extra");(G||J||D)&&(v=c("div",{class:"".concat(z,"-head"),style:x},[c("div",{class:"".concat(z,"-head-wrapper")},[G&&c("div",{class:"".concat(z,"-head-title")},q(G)?G:{default:function(){return[G]}}),J&&c("div",{class:"".concat(z,"-extra")},q(J)?J:{default:function(){return[J]}})]),D]));var Q=p(this,"cover"),Z=Q?c("div",{class:"".concat(z,"-cover")},q(Q)?Q:{default:function(){return[Q]}}):null,tt=c("div",{class:"".concat(z,"-body"),style:w},[A?Y:S]),et=p(this,"actions"),at=et&&et.length?c("ul",{class:"".concat(z,"-actions")},[this.getAction(et)]):null;return c("div",{class:$,ref:"cardContainerRef"},[v,Z,S?tt:null,at])}});function Q(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!d(t)}var Z=a({name:"ACardMeta",props:{prefixCls:o.string,title:o.VNodeChild,description:o.VNodeChild,avatar:o.VNodeChild},setup:function(){return{configProvider:i("configProvider",l)}},render:function(){var t,e,a,n=this.$props.prefixCls,o=(0,this.configProvider.getPrefixCls)("card",n),r=(t={},e="".concat(o,"-meta"),a=!0,e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t),i=p(this,"avatar"),l=p(this,"title"),d=p(this,"description"),s=i?c("div",{class:"".concat(o,"-meta-avatar")},Q(i)?i:{default:function(){return[i]}}):null,f=l?c("div",{class:"".concat(o,"-meta-title")},Q(l)?l:{default:function(){return[l]}}):null,u=d?c("div",{class:"".concat(o,"-meta-description")},Q(d)?d:{default:function(){return[d]}}):null,m=f||u?c("div",{class:"".concat(o,"-meta-detail")},[f,u]):null;return c("div",{class:r},[s,m])}});function tt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var et=a({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:o.string,hoverable:o.looseBool},setup:function(){return{configProvider:i("configProvider",l)}},render:function(){var t,e=this.$props,a=e.prefixCls,n=e.hoverable,o=void 0===n||n,r=(0,this.configProvider.getPrefixCls)("card",a),i=(tt(t={},"".concat(r,"-grid"),!0),tt(t,"".concat(r,"-grid-hoverable"),o),t);return c("div",{class:i},[u(this)])}});J.Meta=Z,J.Grid=et,J.install=function(t){return t.component(J.name,J),t.component(Z.name,Z),t.component(et.name,et),t};var at=a({name:"UICard",components:{AntCard:J}});const nt=h("data-v-540a82bb"),ot=nt(((t,e,a,n,o,r)=>{const i=m("AntCard");return b(),g(i,null,{default:nt((()=>[v(t.$slots,"default")])),_:3})}));at.render=ot,at.__scopeId="data-v-540a82bb";var rt=a({name:"UIInputTextArea",components:{AntInputTextArea:R.TextArea}});const it=h("data-v-76d5a87b"),lt=it(((t,e,a,n,o,r)=>{const i=m("AntInputTextArea");return b(),g(i,null,{default:it((()=>[v(t.$slots,"default")])),_:3})}));rt.render=lt,rt.__scopeId="data-v-76d5a87b";var dt=a({name:"OrderConfirm",components:{AppTitleBar:M,OrderSteps:U,UIInputTextArea:rt,UICard:at,Icon:C,UISkeleton:B,UIButton:$,PatentImage:L},setup(){const t=y(),e=x(),a=V(t.query.commodityId),n=k(!1),o=k(!1),r=k(""),i=k(z[0]),l=k({});return w((()=>{n.value=!0,D({commodityId:a,commodityType:"PATENT"}).then((({data:t})=>{l.value=t})).catch((t=>{3200===t.code&&e.push("/order/pay/result?status=0&type=PATENT")})).finally((()=>n.value=!1))})),{PATENT_TYPE:S,PAY_ROUTES:z,remark:r,pageLoading:n,submitLoading:o,currentPayRoute:i,handleBuyClick:()=>{return t=this,n=null,l=function*(){const{payRoute:t,tradeType:n}=i.value;o.value=!0;const{data:l}=yield G({commodityId:a,commodityType:"PATENT",payRoute:t,tradeType:n,remark:r.value}).finally((()=>o.value=!1)),{orderNo:d,tradeNo:s}=l,c=`/order/pay/${"UMS_PAY"===t?"code":"WXPAY"===t?"wechat":"form"}?orderNo=${d}&tradeNo=${s}&type=PATENT&payRoute=${t}&tradeType=${n}`;"UMS_PAY"===t||"WXPAY"===t?yield e.push(c):(K({tradeNo:s,orderNo:d,type:"PATENT",getContainer:"orderConfirm"}),Y(c))},new Promise(((e,a)=>{var o=t=>{try{i(l.next(t))}catch(t){a(t)}},r=t=>{try{i(l.throw(t))}catch(t){a(t)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,r);i((l=l.apply(t,n)).next())}));var t,n,l},orderConfirmation:l}}});const st=h("data-v-5d1606fa");A("data-v-5d1606fa");const ct={id:"orderConfirm",class:"orderConfirm"},ft={class:"pageWidthWithCenter orderConfirmWrapper"},ut={class:"orderConfirm-left"},pt={class:"orderConfirm-left-patent"},mt={class:"patentContent"},bt={class:"patentContent-image"},gt={class:"patentContent-info"},vt={class:"patentContent-info-title"},ht={class:"patentContent-info-col"},Ct=c("label",null,"专利类型",-1),yt=c("label",null,"发明人",-1),xt={class:"patentContent-info-col"},kt=c("label",null,"专利号",-1),wt=c("label",null,"标签",-1),At={class:"patentContent-info-col"},Tt=c("label",null,"法律状态",-1),Pt=c("label",null,"价格",-1),It={class:"patentContent-info-col"},jt=c("label",null,"缴费截止",-1),_t=c("span",null,[c("label",null,"数量"),I("1")],-1),Rt={class:"orderConfirm-left-remark"},Nt={class:"orderConfirm-right"},Et={class:"orderConfirm-right-priceItem"},Ot=c("label",null,"原价",-1),Ut=c("label",null,"VIP会员",-1),Bt={class:"orderConfirm-right-priceItem totalAmount"},St=c("label",null,"实付款",-1),zt={class:"orderConfirm-right-payRoutes"},Lt={class:"orderConfirm-right-payRoutes-item-info"},$t=I("确认付款");T();const Vt=st(((t,e,a,n,o,r)=>{const i=m("OrderSteps"),l=m("AppTitleBar"),d=m("PatentImage"),s=m("UISkeleton"),f=m("UICard"),u=m("UIInputTextArea"),p=m("Icon"),v=m("UIButton");return b(),g("div",ct,[c(l,{title:"确认订单"},{default:st((()=>[c(i)])),_:1}),c("div",ft,[c("section",ut,[c("div",pt,[c(f,{title:"商品信息"},{default:st((()=>[c(s,{active:"",paragraph:{rows:5},loading:t.pageLoading},{default:st((()=>[c("div",mt,[c("div",bt,[c(d,{category:t.orderConfirmation.category},null,8,["category"])]),c("div",gt,[c("h2",vt,P(t.orderConfirmation.name),1),c("p",ht,[c("span",null,[Ct,I(P(t.orderConfirmation.number),1)]),c("span",null,[yt,I(P(t.orderConfirmation.inventorExplain),1)])]),c("p",xt,[c("span",null,[kt,I(P(t.PATENT_TYPE.label[t.orderConfirmation.type]),1)]),c("span",null,[wt,I(P(t.orderConfirmation.tags),1)])]),c("p",At,[c("span",null,[Tt,I(P(t.orderConfirmation.legalStatus),1)]),c("span",null,[Pt,I("￥"+P(t.orderConfirmation.price),1)])]),c("p",It,[c("span",null,[jt,I(P(t.orderConfirmation.paymentDeadline||"暂无"),1)]),_t])])])])),_:1},8,["loading"])])),_:1})]),c("div",Rt,[c(f,{title:"订单备注"},{default:st((()=>[c(s,{active:"",paragraph:{rows:3},loading:t.pageLoading},{default:st((()=>[c(u,{value:t.remark,"onUpdate:value":e[1]||(e[1]=e=>t.remark=e),"html-type":"textarea",placeholder:"请输入订单备注（选填）",rows:6},null,8,["value"])])),_:1},8,["loading"])])),_:1})])]),c("section",Nt,[c(f,{title:"订单金额"},{default:st((()=>[c(s,{active:"",paragraph:{rows:13},loading:t.pageLoading},{default:st((()=>[c("p",Et,[Ot,c("span",null,"￥"+P(t.orderConfirmation.price),1)]),(b(!0),g(j,null,_(t.orderConfirmation.discounts||[],(t=>(b(),g("p",{class:"orderConfirm-right-priceItem",key:t.price},[Ut,c("span",null,"-￥"+P(t.price),1)])))),128)),c("p",Bt,[St,c("b",null,"￥"+P(t.orderConfirmation.totalAmount),1)]),c("ul",zt,[(b(!0),g(j,null,_(t.PAY_ROUTES,(e=>(b(),g("li",{key:e.icon,onClick:a=>t.currentPayRoute=e,class:"orderConfirm-right-payRoutes-item"},[c(p,{class:"orderConfirm-right-payRoutes-item-payIcon",icon:e.icon},null,8,["icon"]),c("div",Lt,[c("b",null,P(e.label),1),c("p",null,P(e.description),1)]),c("div",{class:["orderConfirm-right-payRoutes-item-radio",[t.currentPayRoute.payRoute===e.payRoute&&"active"]]},[c(p,{icon:"tick"})],2)],8,["onClick"])))),128))]),c(v,{loading:t.submitLoading,class:"orderConfirm-right-payButton",onClick:t.handleBuyClick,"customer-class":"dangerButton",type:"primary",block:""},{default:st((()=>[$t])),_:1},8,["loading","onClick"])])),_:1},8,["loading"])])),_:1})])])])}));dt.render=Vt,dt.__scopeId="data-v-5d1606fa";export default dt;
