import{d as e,s as a,ag as t,o,b as s,ah as l,p as r,f as i,g as n,h as d,i as p,j as c,m as u,ai as v,aj as m}from"./index.e0d03852.js";import{s as b}from"./UIModal.ff47e4f6.js";import{u as y,i as f}from"./index.3c366fab.js";var N=e({name:"PollGetPayRequestModal",components:{UIModal:b,Icon:a},props:{orderNo:String,tradeNo:String,type:String,visible:Boolean},emits:["update:visible"],setup(e,a){const{tradeNo:r,orderNo:i,type:n,visible:d}=t(e),{clearPollGetPayResult:p,startPollGetPayResult:c}=y();return o((()=>{c({tradeNo:r.value,orderNo:i.value,commodityType:n.value})})),s((()=>{p()})),{visible:d,handleOk:async()=>{await f(r.value)&&(a.emit("update:visible",!1),await l.push(`/order/pay/result?orderNo=${i.value}&tradeNo=${r.value}&status=1&type=${n.value}`))},clearPollGetPayResult:p}}});const P=u("data-v-4b7752fe");r("data-v-4b7752fe");const g={class:"wrapper"},h=c("div",{class:"description"},[c("h4",{class:"description-title"},"请您在新打开的页面上完成付款！"),c("p",null,"完成付款前请不要关闭此窗口。"),c("p",null,"完成付款后请根据实际情况点击下面的按钮。")],-1);i();const k=P(((e,a,t,o,s,l)=>{const r=n("Icon"),i=n("UIModal");return d(),p(i,{title:"我要付款",visible:e.visible,"onUpdate:visible":a[1]||(a[1]=a=>e.$emit("update:visible",a)),onAfterClose:e.clearPollGetPayResult,maskClosable:!1,onOk:e.handleOk,cancelText:"选择其他方式",okText:"已完成支付",okButtonProps:{type:"danger"}},{default:P((()=>[c("div",g,[c(r,{class:"icon",icon:"warning"}),h])])),_:1},8,["visible","onAfterClose","onOk"])}));N.render=k,N.__scopeId="data-v-4b7752fe";const I=({orderNo:e,tradeNo:a,type:t})=>{const o=document.createElement("div");document.body.appendChild(o);const s=v({render:()=>m(N,{visible:!0,"onUpdate:visible":e=>{e||(s.unmount(o),o.remove())},orderNo:e,tradeNo:a,type:t})});s.mount(o)};export{I as s};
