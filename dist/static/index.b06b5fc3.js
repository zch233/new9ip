let e=document.createElement("style");e.innerHTML=".orderConfirm[data-v-abea14ae]{margin-bottom:10px}.orderConfirm .ant-card[data-v-abea14ae]{height:100%}.orderConfirm-left[data-v-abea14ae]{margin-right:10px;-webkit-box-flex:1;-webkit-flex:1 1 0;flex:1 1 0;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.orderConfirm-left-patent[data-v-abea14ae]{margin-bottom:10px}.orderConfirm-left-patent .patentContent[data-v-abea14ae]{display:-webkit-box;display:-webkit-flex;display:flex}.orderConfirm-left-patent .patentContent-image[data-v-abea14ae]{width:200px;border:1px solid #dbdbdb;padding:4px}.orderConfirm-left-patent .patentContent-image img[data-v-abea14ae]{width:100%}.orderConfirm-left-patent .patentContent-info[data-v-abea14ae]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:34px}.orderConfirm-left-patent .patentContent-info-title[data-v-abea14ae]{font-size:20px;font-weight:700;margin-bottom:.9em;line-height:1.4;height:2.8em}.orderConfirm-left-patent .patentContent-info-col[data-v-abea14ae]{margin-bottom:9px;color:#333;display:-webkit-box;display:-webkit-flex;display:flex}.orderConfirm-left-patent .patentContent-info-col>span[data-v-abea14ae]{width:46%}.orderConfirm-left-patent .patentContent-info-col[data-v-abea14ae]:last-child{margin-bottom:0}.orderConfirm-left-patent .patentContent-info-col label[data-v-abea14ae]{color:#666;display:inline-block;width:40%}.orderConfirm-left-remark[data-v-abea14ae]{-webkit-box-flex:1;-webkit-flex:1 1 0;flex:1 1 0}.orderConfirm-right[data-v-abea14ae]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30%}.orderConfirm-right-priceItem[data-v-abea14ae]{color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:10px;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;line-height:1.6}.orderConfirm-right-priceItem[data-v-abea14ae]:last-child{margin-bottom:20px}.orderConfirm-right-priceItem.totalAmount[data-v-abea14ae]{margin-top:30px}.orderConfirm-right-priceItem.totalAmount b[data-v-abea14ae]{color:#ff5858;font-size:30px;line-height:1}.orderConfirm-right-payRoutes[data-v-abea14ae]{border-top:1px dashed #e8e8e8;padding:20px 0}.orderConfirm-right-payRoutes-item[data-v-abea14ae]{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:flex;cursor:pointer}.orderConfirm-right-payRoutes-item-payIcon[data-v-abea14ae]{font-size:42px}.orderConfirm-right-payRoutes-item-info[data-v-abea14ae]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#999;font-size:12px;padding-left:20px}.orderConfirm-right-payRoutes-item-info p[data-v-abea14ae]{margin-bottom:0}.orderConfirm-right-payRoutes-item-info b[data-v-abea14ae]{font-size:14px;color:#333}.orderConfirm-right-payRoutes-item-radio[data-v-abea14ae]{color:#fff;border:1px solid #dedede;-webkit-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;width:1.8em;height:1.8em;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:.2s;transition:.2s}.orderConfirm-right-payRoutes-item-radio.active[data-v-abea14ae]{background-color:#ff5858;border-color:#ff5858}.orderConfirm-right-payButton[data-v-abea14ae]{height:50px;font-size:18px;margin-top:10px}.orderConfirmWrapper[data-v-abea14ae]{display:-webkit-box;display:-webkit-flex;display:flex;padding:20px 0}",document.head.appendChild(e);import{aK as t,d as a,O as n,P as o,y as r,E as i,K as l,D as d,aO as s,j as c,N as f,L as u,A as p,g as m,h as b,i as g,x as v,m as h,s as C,u as y,a as x,r as k,o as w,p as A,f as T,t as P,n as I,F as j,k as _}from"./index.06d186fe.js";import"./index.2a5bb8c2.js";import"./SearchOutlined.925bb3e8.js";import"./CloseOutlined.d28c7007.js";import"./raf.8a2adf49.js";import"./isSymbol.f89a732a.js";import"./LeftOutlined.a090b68b.js";import"./CheckOutlined.f380e887.js";import{I as R}from"./index.afd965b2.js";import"./wave.86ee9275.js";import"./index.c8cdada4.js";import{g as N,o as O}from"./index.f106cf09.js";import"./toNumber.a9197752.js";import"./debounce.e0ee2c86.js";import{T as E}from"./index.6bc419fe.js";import{a as S,A as U}from"./Col.41d7be0a.js";import{s as B}from"./index.a9ea9a30.js";import{s as z}from"./UISkeleton.990b9c39.js";import{b as $,P as L}from"./dict.c2403ec5.js";import{s as V}from"./index.4fc7dff6.js";import{s as K}from"./UIButton.3f87abad.js";import"./UIModal.3228aed7.js";import{s as Y}from"./index.03d2baf1.js";import{s as D}from"./index.0aa287e1.js";import{g as G,o as M}from"./orderConfirm.5dd9fd6e.js";var W=t(S),F=t(U);function X(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function q(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!d(e)}var H=E.TabPane,J=a({name:"ACard",mixins:[n],props:{prefixCls:o.string,title:o.VNodeChild,extra:o.VNodeChild,bordered:o.looseBool.def(!0),bodyStyle:o.style,headStyle:o.style,loading:o.looseBool.def(!1),hoverable:o.looseBool.def(!1),type:o.string,size:o.oneOf(r("default","small")),actions:o.VNodeChild,tabList:{type:Array},tabBarExtraContent:o.VNodeChild,activeTabKey:o.string,defaultActiveTabKey:o.string,cover:o.VNodeChild,onTabChange:{type:Function}},setup:function(){return{configProvider:i("configProvider",l)}},data:function(){return{widerPadding:!1}},methods:{getAction:function(e){return e.map((function(t,a){return d(t)&&!s(t)||!d(t)?c("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},[c("span",null,q(t)?t:{default:function(){return[t]}})]):null}))},triggerTabChange:function(e){this.$emit("tabChange",e)},isContainGrid:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.forEach((function(t){t&&f(t.type)&&t.type.__ANT_CARD_GRID&&(e=!0)})),e}},render:function(){var e,t,a,n,o,r,i,l,d,s,f,m,b,g,v,h=this.$props,C=h.prefixCls,y=h.headStyle,x=void 0===y?{}:y,k=h.bodyStyle,w=void 0===k?{}:k,A=h.loading,T=h.bordered,P=void 0===T||T,I=h.size,j=void 0===I?"default":I,_=h.type,R=h.tabList,N=h.hoverable,O=h.activeTabKey,S=h.defaultActiveTabKey,U=this.$slots,B=u(this),z=(0,this.configProvider.getPrefixCls)("card",C),$=p(this,"tabBarExtraContent"),L=(X(b={},"".concat(z),!0),X(b,"".concat(z,"-loading"),A),X(b,"".concat(z,"-bordered"),P),X(b,"".concat(z,"-hoverable"),!!N),X(b,"".concat(z,"-contain-grid"),this.isContainGrid(B)),X(b,"".concat(z,"-contain-tabs"),R&&R.length),X(b,"".concat(z,"-").concat(j),"default"!==j),X(b,"".concat(z,"-type-").concat(_),!!_),b),V=0===w.padding||"0px"===w.padding?{padding:24}:void 0,K=c("div",{class:"".concat(z,"-loading-content"),style:V},[c(W,{gutter:8},q(t=c(F,{span:22},q(e=c("div",{class:"".concat(z,"-loading-block")},null))?e:{default:function(){return[e]}}))?t:{default:function(){return[t]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:8},q(a=c("div",{class:"".concat(z,"-loading-block")},null))?a:{default:function(){return[a]}}),c(F,{span:15},q(n=c("div",{class:"".concat(z,"-loading-block")},null))?n:{default:function(){return[n]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:6},q(o=c("div",{class:"".concat(z,"-loading-block")},null))?o:{default:function(){return[o]}}),c(F,{span:18},q(r=c("div",{class:"".concat(z,"-loading-block")},null))?r:{default:function(){return[r]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:13},q(i=c("div",{class:"".concat(z,"-loading-block")},null))?i:{default:function(){return[i]}}),c(F,{span:9},q(l=c("div",{class:"".concat(z,"-loading-block")},null))?l:{default:function(){return[l]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:4},q(d=c("div",{class:"".concat(z,"-loading-block")},null))?d:{default:function(){return[d]}}),c(F,{span:3},q(s=c("div",{class:"".concat(z,"-loading-block")},null))?s:{default:function(){return[s]}}),c(F,{span:16},q(f=c("div",{class:"".concat(z,"-loading-block")},null))?f:{default:function(){return[f]}})]}})]),Y=void 0!==O,D=(X(g={size:"large"},Y?"activeKey":"defaultActiveKey",Y?O:S),X(g,"tabBarExtraContent",$),X(g,"onChange",this.triggerTabChange),X(g,"class","".concat(z,"-head-tabs")),g),G=R&&R.length?c(E,D,q(m=R.map((function(e){var t=e.tab,a=e.slots,n=null==a?void 0:a.tab,o=void 0!==t?t:U[n]?U[n](e):null;return c(H,{tab:o,key:e.key,disabled:e.disabled},null)})))?m:{default:function(){return[m]}}):null,M=p(this,"title"),J=p(this,"extra");(M||J||G)&&(v=c("div",{class:"".concat(z,"-head"),style:x},[c("div",{class:"".concat(z,"-head-wrapper")},[M&&c("div",{class:"".concat(z,"-head-title")},q(M)?M:{default:function(){return[M]}}),J&&c("div",{class:"".concat(z,"-extra")},q(J)?J:{default:function(){return[J]}})]),G]));var Q=p(this,"cover"),Z=Q?c("div",{class:"".concat(z,"-cover")},q(Q)?Q:{default:function(){return[Q]}}):null,ee=c("div",{class:"".concat(z,"-body"),style:w},[A?K:B]),te=p(this,"actions"),ae=te&&te.length?c("ul",{class:"".concat(z,"-actions")},[this.getAction(te)]):null;return c("div",{class:L,ref:"cardContainerRef"},[v,Z,B?ee:null,ae])}});function Q(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!d(e)}var Z=a({name:"ACardMeta",props:{prefixCls:o.string,title:o.VNodeChild,description:o.VNodeChild,avatar:o.VNodeChild},setup:function(){return{configProvider:i("configProvider",l)}},render:function(){var e,t,a,n=this.$props.prefixCls,o=(0,this.configProvider.getPrefixCls)("card",n),r=(e={},t="".concat(o,"-meta"),a=!0,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e),i=p(this,"avatar"),l=p(this,"title"),d=p(this,"description"),s=i?c("div",{class:"".concat(o,"-meta-avatar")},Q(i)?i:{default:function(){return[i]}}):null,f=l?c("div",{class:"".concat(o,"-meta-title")},Q(l)?l:{default:function(){return[l]}}):null,u=d?c("div",{class:"".concat(o,"-meta-description")},Q(d)?d:{default:function(){return[d]}}):null,m=f||u?c("div",{class:"".concat(o,"-meta-detail")},[f,u]):null;return c("div",{class:r},[s,m])}});function ee(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var te=a({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:o.string,hoverable:o.looseBool},setup:function(){return{configProvider:i("configProvider",l)}},render:function(){var e,t=this.$props,a=t.prefixCls,n=t.hoverable,o=void 0===n||n,r=(0,this.configProvider.getPrefixCls)("card",a),i=(ee(e={},"".concat(r,"-grid"),!0),ee(e,"".concat(r,"-grid-hoverable"),o),e);return c("div",{class:i},[u(this)])}});J.Meta=Z,J.Grid=te,J.install=function(e){return e.component(J.name,J),e.component(Z.name,Z),e.component(te.name,te),e};var ae=a({name:"UICard",components:{AntCard:J}});const ne=h("data-v-540a82bb"),oe=ne(((e,t,a,n,o,r)=>{const i=m("AntCard");return b(),g(i,null,{default:ne((()=>[v(e.$slots,"default")])),_:3})}));ae.render=oe,ae.__scopeId="data-v-540a82bb";var re=a({name:"UIInputTextArea",components:{AntInputTextArea:R.TextArea}});const ie=h("data-v-76d5a87b"),le=ie(((e,t,a,n,o,r)=>{const i=m("AntInputTextArea");return b(),g(i,null,{default:ie((()=>[v(e.$slots,"default")])),_:3})}));re.render=le,re.__scopeId="data-v-76d5a87b";var de=a({name:"OrderConfirm",components:{AppTitleBar:D,OrderSteps:B,UIInputTextArea:re,UICard:ae,Icon:C,UISkeleton:z,UIButton:K,PatentImage:V},setup(){const e=y(),t=x(),a=N(e.query.commodityId),n=k(!1),o=k(!1),r=k(""),i=k(L[0]),l=k({});return w((()=>{n.value=!0,G({commodityId:a,commodityType:"PATENT"}).then((({data:e})=>{l.value=e})).catch((e=>{3200===e.code&&t.push("/order/pay/result?status=0&type=PATENT")})).finally((()=>n.value=!1))})),{PATENT_TYPE:$,PAY_ROUTES:L,remark:r,pageLoading:n,submitLoading:o,currentPayRoute:i,handleBuyClick:()=>{return e=this,n=null,l=function*(){const{payRoute:e,tradeType:n}=i.value;o.value=!0;const{data:l}=yield M({commodityId:a,commodityType:"PATENT",payRoute:e,tradeType:n,remark:r.value}).finally((()=>o.value=!1)),{orderNo:d,tradeNo:s}=l,c=`/order/pay/${"UMS_PAY"===e?"code":"WXPAY"===e?"wechat":"form"}?orderNo=${d}&tradeNo=${s}&type=PATENT&payRoute=${e}&tradeType=${n}`;"UMS_PAY"===e||"WXPAY"===e?yield t.push(c):(Y({tradeNo:s,orderNo:d,type:"PATENT",getContainer:"orderConfirm"}),O(c))},new Promise(((t,a)=>{var o=e=>{try{i(l.next(e))}catch(e){a(e)}},r=e=>{try{i(l.throw(e))}catch(e){a(e)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,r);i((l=l.apply(e,n)).next())}));var e,n,l},orderConfirmation:l}}});const se=h("data-v-abea14ae");A("data-v-abea14ae");const ce={id:"orderConfirm",class:"orderConfirm"},fe={class:"pageWidthWithCenter orderConfirmWrapper"},ue={class:"orderConfirm-left"},pe={class:"orderConfirm-left-patent"},me={class:"patentContent"},be={class:"patentContent-image"},ge={class:"patentContent-info"},ve={class:"patentContent-info-title"},he={class:"patentContent-info-col"},Ce=c("label",null,"专利类型",-1),ye=c("label",null,"发明人",-1),xe={class:"patentContent-info-col"},ke=c("label",null,"专利号",-1),we=c("label",null,"标签",-1),Ae={class:"patentContent-info-col"},Te=c("label",null,"法律状态",-1),Pe=c("label",null,"价格",-1),Ie={class:"patentContent-info-col"},je=c("label",null,"缴费截止",-1),_e=c("span",null,[c("label",null,"数量"),I("1")],-1),Re={class:"orderConfirm-left-remark"},Ne={class:"orderConfirm-right"},Oe={class:"orderConfirm-right-priceItem"},Ee=c("label",null,"原价",-1),Se=c("label",null,"VIP会员",-1),Ue={class:"orderConfirm-right-priceItem totalAmount"},Be=c("label",null,"实付款",-1),ze={class:"orderConfirm-right-payRoutes"},$e={class:"orderConfirm-right-payRoutes-item-info"},Le=I("确认付款");T();const Ve=se(((e,t,a,n,o,r)=>{const i=m("OrderSteps"),l=m("AppTitleBar"),d=m("PatentImage"),s=m("UISkeleton"),f=m("UICard"),u=m("UIInputTextArea"),p=m("Icon"),v=m("UIButton");return b(),g("div",ce,[c(l,{title:"确认订单"},{default:se((()=>[c(i)])),_:1}),c("div",fe,[c("section",ue,[c("div",pe,[c(f,{title:"商品信息"},{default:se((()=>[c(s,{active:"",paragraph:{rows:5},loading:e.pageLoading},{default:se((()=>[c("div",me,[c("div",be,[c(d,{cover:e.orderConfirmation.categoryCover},null,8,["cover"])]),c("div",ge,[c("h2",ve,P(e.orderConfirmation.name),1),c("p",he,[c("span",null,[Ce,I(P(e.orderConfirmation.number),1)]),c("span",null,[ye,I(P(e.orderConfirmation.inventorExplain),1)])]),c("p",xe,[c("span",null,[ke,I(P(e.PATENT_TYPE.label[e.orderConfirmation.type]),1)]),c("span",null,[we,I(P(e.orderConfirmation.tags),1)])]),c("p",Ae,[c("span",null,[Te,I(P(e.orderConfirmation.legalStatus),1)]),c("span",null,[Pe,I("￥"+P(e.orderConfirmation.price),1)])]),c("p",Ie,[c("span",null,[je,I(P(e.orderConfirmation.paymentDeadline||"暂无"),1)]),_e])])])])),_:1},8,["loading"])])),_:1})]),c("div",Re,[c(f,{title:"订单备注"},{default:se((()=>[c(s,{active:"",paragraph:{rows:3},loading:e.pageLoading},{default:se((()=>[c(u,{value:e.remark,"onUpdate:value":t[1]||(t[1]=t=>e.remark=t),"html-type":"textarea",placeholder:"请输入订单备注（选填）",rows:6},null,8,["value"])])),_:1},8,["loading"])])),_:1})])]),c("section",Ne,[c(f,{title:"订单金额"},{default:se((()=>[c(s,{active:"",paragraph:{rows:13},loading:e.pageLoading},{default:se((()=>[c("p",Oe,[Ee,c("span",null,"￥"+P(e.orderConfirmation.price),1)]),(b(!0),g(j,null,_(e.orderConfirmation.discounts||[],(e=>(b(),g("p",{class:"orderConfirm-right-priceItem",key:e.price},[Se,c("span",null,"-￥"+P(e.price),1)])))),128)),c("p",Ue,[Be,c("b",null,"￥"+P(e.orderConfirmation.totalAmount),1)]),c("ul",ze,[(b(!0),g(j,null,_(e.PAY_ROUTES,(t=>(b(),g("li",{key:t.icon,onClick:a=>e.currentPayRoute=t,class:"orderConfirm-right-payRoutes-item"},[c(p,{class:"orderConfirm-right-payRoutes-item-payIcon",icon:t.icon},null,8,["icon"]),c("div",$e,[c("b",null,P(t.label),1),c("p",null,P(t.description),1)]),c("div",{class:["orderConfirm-right-payRoutes-item-radio",[e.currentPayRoute.payRoute===t.payRoute&&"active"]]},[c(p,{icon:"tick"})],2)],8,["onClick"])))),128))]),c(v,{loading:e.submitLoading,class:"orderConfirm-right-payButton",onClick:e.handleBuyClick,"customer-class":"dangerButton",type:"primary",block:""},{default:se((()=>[Le])),_:1},8,["loading","onClick"])])),_:1},8,["loading"])])),_:1})])])])}));de.render=Ve,de.__scopeId="data-v-abea14ae";export default de;
