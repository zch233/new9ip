var t=Object.assign,a=(t,a,e)=>new Promise(((s,n)=>{var l=t=>{try{o(e.next(t))}catch(a){n(a)}},i=t=>{try{o(e.throw(t))}catch(a){n(a)}},o=t=>t.done?s(t.value):Promise.resolve(t.value).then(l,i);o((e=e.apply(t,a)).next())}));import{d as e,_ as s,ay as n,az as l,aA as i,aB as o,aC as r,p as c,f as p,h as u,i as d,j as m,F as g,l as v,n as T,k as y,m as S,q as f,t as b,aD as h,x as I,u as L,a as _,r as P,$ as E,aE as A,o as k,b as B,c as U,aF as x,e as C,g as j}from"./index.f1efcfa5.js";import{_ as w}from"./UITag.dfdb5d5f.js";import{_ as N}from"./UIButton.ea291404.js";import{_ as H}from"./UIPagination.93b77f21.js";import{_ as M}from"./UISpin.95b92f7c.js";import{_ as K}from"./UIEmpty.9fbd7827.js";import{_ as O}from"./UITooltip.6e0690de.js";import{b as R,e as F,a as q}from"./patent.a175c129.js";import{_ as z}from"./index.c5ce77c4.js";import{_ as $}from"./index.4280f979.js";import{_ as G}from"./index.57851bec.js";import{_ as V}from"./index.e4f2cddc.js";import"./vendor.5c0531cb.js";import"./SearchOutlined.8542a9bc.js";import"./omit.2ef1b759.js";import"./toString.d1175bcc.js";import"./isSymbol.a0f960fd.js";import"./identity.8c6d0048.js";import"./_baseSlice.87986fb0.js";import"./CheckOutlined.ef2c3266.js";import"./LeftOutlined.aacb06aa.js";import"./debounce.06adac70.js";import"./toNumber.3099c9e1.js";import"./collect.0438e8b5.js";import"./UICountdown.3fba7412.js";import"./_baseProperty.5f294f85.js";var W=e({name:"ImageList",components:{UITag:w,Icon:s,UIButton:N,VIPBrand:$,StarIcon:z,PatentImage:G,PrePatentCountdown:V},props:{patents:{type:Object,default:()=>[]},startIndex:Number},setup:()=>({PATENT_TYPE:n,PATENT_CERT_STATUS:l,PATENT_ORIGIN_STATUS:i,PATENT_STOCK_STATUS:o,notActivePatent:r})});const Y=T("data-v-3124c0e9");c("data-v-3124c0e9");const Q={key:0,class:"patentListBar-list-item"},D={class:"patentListBar-list-item-content"},J={class:"patentListBar-list-item-content-firstFloor"},Z={class:"patentListBar-list-item-content-firstFloor-info"},X={key:0},tt={class:"patentListBar-list-item-content-secondFloor"},at={class:"patentListBar-list-item-content-secondFloor-des"},et=f("专利号："),st={class:"patentListBar-list-item-content-secondFloor-des-tags"},nt=f("领域："),lt={class:"patentListBar-list-item-content-secondFloor-des"},it={class:"patentListBar-list-item-content-thirdFloor"},ot={class:"patentListBar-list-item-content-thirdFloor-status"},rt={class:"patentListBar-list-item-content-thirdFloor-price"},ct=f("零售价："),pt={class:"vipPrice"},ut=f("￥"),dt=f("立即购买");p();const mt=Y(((t,a,e,s,n,l)=>{const i=u("PatentImage"),o=u("PrePatentCountdown"),r=u("StarIcon"),c=u("RouterLink"),p=u("VIPBrand"),T=u("UIButton");return d(),m("ul",{class:"patentListBar-list",style:{paddingTop:145*t.startIndex+"px"}},[(d(!0),m(g,null,v(t.patents,((a,e)=>(d(),m(g,{key:a.number},[e>=t.startIndex&&e<=t.startIndex+30?(d(),m("li",Q,[y("a",{target:"_blank",href:`/patent/${a.number}`},[y("div",{class:["patentListBar-list-item-image patentLabel",a.newest?"new":a.hot?"hot":""]},[y(i,{cover:a.categoryCover},null,8,["cover"])],2)],8,["href"]),y("div",D,[y("div",J,[y("a",{target:"_blank",href:`/patent/${a.number}`},[y("b",{class:"patentListBar-list-item-content-firstFloor-title searchKeyword",innerHTML:a.nameHighlightKey||a.name},null,8,["innerHTML"])],8,["href"]),y("p",Z,[a.stockStatus===t.PATENT_STOCK_STATUS.RESERVING?(d(),m("label",X,[y(o,{patent:a},null,8,["patent"])])):S("",!0),y(r,{patent:a},null,8,["patent"])])]),y("div",tt,[y("p",at,[y("label",null,[et,y("span",{class:"searchKeyword",innerHTML:a.numberHighlightKey||a.number},null,8,["innerHTML"])]),y("label",st,[nt,(d(!0),m(g,null,v((a.tagsHighlightKey||a.tags).split(","),((t,e)=>{var s;return d(),m("span",{class:"searchKeyword",key:t},[y(c,{to:`/patent?word=${encodeURIComponent(null==(s=a.tags)?void 0:s.split(",")[e])}`,innerHTML:t},null,8,["to","innerHTML"]),f(b(e===(a.tagsHighlightKey||a.tags).split(",").length-1?"":"，"),1)])})),128))]),y("label",null,"发明人："+b(a.inventorExplain),1)]),y("p",lt,[y("label",null,"专利类型："+b(t.PATENT_TYPE.label[a.type]),1),y("label",null,"法律状态："+b(a.legalStatus),1)])]),y("div",it,[y("div",ot,[y("span",{class:["patentListBar-list-item-content-thirdFloor-status-tag",a.certStatus===t.PATENT_CERT_STATUS.YIZHENG?"success":a.certStatus===t.PATENT_CERT_STATUS.WEIZHENG?"primary":"disabled"]},b(t.PATENT_CERT_STATUS.label[a.certStatus]),3),y("span",{class:["patentListBar-list-item-content-thirdFloor-status-tag",a.stockStatus===t.PATENT_STOCK_STATUS.CAN_SELL?"success":a.stockStatus===t.PATENT_STOCK_STATUS.PRE_SELL?"primary":"disabled"]},b(t.PATENT_STOCK_STATUS.label[a.stockStatus]),3)]),y("div",rt,[y("label",null,[ct,y("b",null,"￥"+b(a.price),1)]),y(p,{class:"vipBrand"}),y("b",pt,[ut,y("em",null,b(a.vipPrice),1)]),y(c,{class:"buyButton",to:{path:"/order/confirm",query:{commodityId:a.id}}},{default:Y((()=>[y(T,{disabled:t.notActivePatent(a.stockStatus),type:"primary","customer-class":"dangerButton"},{default:Y((()=>[dt])),_:2},1032,["disabled"])])),_:2},1032,["to"])])])])])):S("",!0)],64)))),128))],4)}));W.render=mt,W.__scopeId="data-v-3124c0e9";var gt=e({name:"TableList",components:{UITag:w,Icon:s,UIButton:N,VIPBrand:$,StarIcon:z,PatentImage:G,PrePatentCountdown:V},props:{patents:{type:Object,default:()=>[]},startIndex:Number},setup:()=>({PATENT_STOCK_STATUS:o,notActivePatent:r})});const vt=T("data-v-6624ca08");c("data-v-6624ca08");const Tt=h('<section class="patentList-title" data-v-6624ca08><span class="col-order" data-v-6624ca08>序号</span><span class="col-name" data-v-6624ca08>专利名称</span><span class="col-number" data-v-6624ca08>专利号</span><span class="col-legalStatus" data-v-6624ca08>法律状态</span><span class="col-tag" data-v-6624ca08>领域</span><span class="col-inventorExplain" data-v-6624ca08>发明人</span><span class="col-status" data-v-6624ca08>状态</span><span class="col-price" data-v-6624ca08>零售价</span><span class="col-vipPrice" data-v-6624ca08>VIP价</span><span class="col-options" data-v-6624ca08>操作</span></section>',1),yt={key:0,class:"patentList-content-item"},St={class:"col-order"},ft={class:"col-name searchKeyword"},bt={class:"col-legalStatus"},ht={class:"col-tag"},It={class:"col-inventorExplain"},Lt={class:"col-status"},_t={class:"col-price"},Pt={class:"col-vipPrice"},Et={class:"col-options"},At=f("立即购买"),kt={key:0,class:"preStatus"};p();const Bt=vt(((t,a,e,s,n,l)=>{const i=u("RouterLink"),o=u("UIButton"),r=u("PrePatentCountdown"),c=u("StarIcon");return d(),m(g,null,[Tt,y("section",{class:"patentList-content",style:{paddingTop:45*t.startIndex+"px"}},[(d(!0),m(g,null,v(t.patents,((a,e)=>(d(),m(g,{key:a.number},[e>=t.startIndex&&e<=t.startIndex+30?(d(),m("div",yt,[y("span",St,b(e+1),1),y("label",ft,[y("a",{class:["patentLabel",a.newest?"new":a.hot?"hot":""],href:`/patent/${a.number}`,target:"_blank"},[y("b",{innerHTML:a.nameHighlightKey||a.name},null,8,["innerHTML"])],10,["href"])]),y("span",{class:"col-number searchKeyword",innerHTML:a.numberHighlightKey||a.number},null,8,["innerHTML"]),y("span",bt,b(a.legalStatus),1),y("span",ht,[(d(!0),m(g,null,v((a.tagsHighlightKey||a.tags).split(","),((t,e)=>{var s;return d(),m("span",{class:"searchKeyword",key:t},[y(i,{to:`/patent?word=${encodeURIComponent(null==(s=a.tags)?void 0:s.split(",")[e])}`,innerHTML:t},null,8,["to","innerHTML"]),f(b(e===(a.tagsHighlightKey||a.tags).split(",").length-1?"":","),1)])})),128))]),y("span",It,b(a.inventorExplain),1),y("span",Lt,b(t.PATENT_STOCK_STATUS.label[a.stockStatus]),1),y("span",_t,"￥"+b(a.price),1),y("span",Pt,"￥"+b(a.vipPrice),1),y("div",Et,[y(i,{class:"buyButton",to:{path:"/order/confirm",query:{commodityId:a.id}}},{default:vt((()=>[y(o,{size:"small",disabled:t.notActivePatent(a.stockStatus),type:"primary","customer-class":"dangerButton"},{default:vt((()=>[At])),_:2},1032,["disabled"])])),_:2},1032,["to"]),a.stockStatus===t.PATENT_STOCK_STATUS.RESERVING?(d(),m("div",kt,[y(r,{patent:a},null,8,["patent"])])):S("",!0),y(c,{class:"starIcon_noGap",patent:a},null,8,["patent"])])])):S("",!0)],64)))),128))],4)],64)}));gt.render=Bt,gt.__scopeId="data-v-6624ca08";var Ut=e({name:"Patent",components:{UITag:w,Icon:s,UIButton:N,UIPagination:H,UISpin:M,UIEmpty:K,UITooltip:O,ImageList:W,TableList:gt},setup(){const e=I(),s=L(),o=_(),c=P(null),p=P(0),u=P(!1),d=P(!1),m=P("imageList"),g=P(s.query),v=P([]),T=E({total:0,current:1,pageSize:30,totalPages:0}),y=P([]),S=P({visible:!0,text:"收起筛选",icon:"top"}),f=(e,s)=>a(this,null,(function*(){if(u.value)return;u.value=!0,s&&(T.current=1);const{data:a}=yield R(t({size:T.pageSize,no:T.current},e)).finally((()=>u.value=!1));s&&(v.value=[]),v.value=v.value.concat((null==a?void 0:a.list)||[]),T.total=null==a?void 0:a.totalCount,T.current=(null==a?void 0:a.no)+1,T.pageSize=null==a?void 0:a.size,T.totalPages=a.totalPages})),b=()=>a(this,null,(function*(){const{data:t}=yield q();y.value=t||[]})),h=()=>{const t=j(),a=window.innerHeight||Math.min(document.documentElement.clientHeight,document.body.clientHeight),e=c.value.offsetTop,s="tableList"===m.value?45:145,n=v.value.length*s,l=4*s,i=e+l;if(p.value=t>i?parseInt((t-i)/s):0,n+e-l<a+t){if(T.current>T.totalPages)return;f(g.value)}},w=()=>a(this,null,(function*(){d.value=!0,yield f(g.value).finally((()=>d.value=!1)),g.value.listMode&&(m.value=g.value.listMode),window.addEventListener("scroll",h),yield b()}));return A((t=>a(this,null,(function*(){d.value=!0,g.value=t.query,t.query.listMode&&(m.value=t.query.listMode),yield f(t.query,!0).finally((()=>d.value=!1))})))),k((()=>w())),B((()=>window.removeEventListener("scroll",h))),{PATENT_TYPE:n,PATENT_CERT_STATUS:l,PATENT_ORIGIN_STATUS:i,patentListBarRef:c,filterControl:S,handleFilterControl:()=>{S.value=S.value.visible?{visible:!1,text:"显示筛选",icon:"down"}:{visible:!0,text:"收起筛选",icon:"top"}},getPatents:f,refreshList:()=>a(this,null,(function*(){d.value=!0,window.scroll(0,0),yield f(g.value,!0).finally((()=>d.value=!1))})),exportPatent:e=>a(this,null,(function*(){const a={all:{size:-1},result:t({size:T.pageSize},g.value)},s=yield F(a[e]),n=new Date;x(s,`${n.getFullYear()}年${n.getMonth()+1}月${n.getDate()}日--第九区活动专利清单`),C.success("导出成功！")})),paginationOptions:T,patentsTags:y,patents:v,routeQuery:g,loading:u,listLoading:d,router:o,listMode:m,startIndex:p,handleFilterClick:a=>{const{type:e,inventor:s,certStatus:n,word:l}=g.value;o.push({path:"/sales",query:JSON.parse(JSON.stringify(t({word:l,type:e,inventor:s,certStatus:n},a)))})},loginStatus:U((()=>e.getters.loginStatus)),notActivePatent:r}}});const xt=T("data-v-259550f4");c("data-v-259550f4");const Ct={class:"pageWidthWithCenter patent"},jt=y("section",{class:"patentSalesImageWrapper"},[y("img",{src:"/static/patentSales.9341c4f1.jpg",alt:""})],-1),wt={class:"patentListBar-options"},Nt=y("div",{class:"patentListBar-options-order"},null,-1),Ht={class:"patentListBar-options-extra"},Mt={key:3,class:"listBottom"},Kt={key:1,class:"emptyWrapper"};p();const Ot=xt(((a,e,s,n,l,i)=>{const o=u("Icon"),r=u("UITooltip"),c=u("ImageList"),p=u("TableList"),v=u("UISpin"),T=u("UIEmpty");return d(),m("div",Ct,[jt,y("section",{ref:"patentListBarRef",class:["patentListBar",!a.loginStatus&&"notSignIn"]},[y("div",wt,[Nt,y("div",Ht,[a.loginStatus?(d(),m(g,{key:0},[],64)):S("",!0),y(r,{title:"刷新页面"},{default:xt((()=>[y(o,{onClick:a.refreshList,icon:"refresh"},null,8,["onClick"])])),_:1}),y(r,{title:"切换视图"},{default:xt((()=>["imageList"===a.listMode?(d(),m(o,{key:0,onClick:e[1]||(e[1]=e=>a.router.push({path:"/sales",query:t(t({},a.routeQuery),{listMode:"tableList"})})),icon:"tableList"})):(d(),m(o,{key:1,onClick:e[2]||(e[2]=e=>a.router.push({path:"/sales",query:t(t({},a.routeQuery),{listMode:"imageList"})})),icon:"imageList"}))])),_:1})])]),y(v,{spinning:a.listLoading},{default:xt((()=>[a.patents.length>0?(d(),m(g,{key:0},["imageList"===a.listMode?(d(),m(c,{key:0,startIndex:a.startIndex,patents:a.patents},null,8,["startIndex","patents"])):(d(),m(p,{key:1,startIndex:a.startIndex,patents:a.patents},null,8,["startIndex","patents"])),a.paginationOptions.current<=a.paginationOptions.totalPages?(d(),m(v,{key:2,spinning:a.loading},{default:xt((()=>[y("p",{class:"listBottom",onClick:e[3]||(e[3]=t=>a.getPatents(a.routeQuery))},"点击加载更多")])),_:1},8,["spinning"])):(d(),m("p",Mt,"-------- 我们是有底线的 --------"))],64)):(d(),m("div",Kt,[a.loading?S("",!0):(d(),m(T,{key:0,image:"patent",description:"暂无搜索结果"}))]))])),_:1},8,["spinning"])],2)])}));Ut.render=Ot,Ut.__scopeId="data-v-259550f4";export default Ut;
