import{_ as t}from"./index.c30f3b05.js";import{_ as e}from"./index.bc8cbfc8.js";import{w as a,d as n,a5 as o,P as r,t as i,i as l,a as c,e as s,bl as d,b as u,a4 as f,a1 as p,W as m,G as v,H as g,J as b,R as C,N as y,_ as h,u as T,q as A,b5 as P,r as I,y as _,aG as x,aj as k,ak as j,D as N,F as R,Q as S,O as U,K as O,L as B}from"./index.ac0cd7df.js";import{T as E}from"./index.fec7b509.js";import{a as w,A as $}from"./Col.b5a83815.js";import{I as L}from"./index.41572ccc.js";import{_ as V}from"./UIButton.91505643.js";import{_ as G}from"./UISkeleton.8848ec9d.js";import{_ as Y}from"./index.23a145ad.js";import{g as K,o as D}from"./orderConfirm.97a0d31e.js";import{s as W}from"./index.73223c48.js";import"./debounce.60279af9.js";import"./isSymbol.6f20698f.js";import"./toNumber.e3d0ade3.js";import"./CheckOutlined.57f9910a.js";import"./vendor.5c0531cb.js";import"./LeftOutlined.934369ba.js";import"./SearchOutlined.d4e172dc.js";import"./UIModal.d7a0acc4.js";var M=a(w),z=a($);function q(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function F(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!s(t)}var X=E.TabPane,H=n({name:"ACard",mixins:[o],props:{prefixCls:r.string,title:r.VNodeChild,extra:r.VNodeChild,bordered:r.looseBool.def(!0),bodyStyle:r.style,headStyle:r.style,loading:r.looseBool.def(!1),hoverable:r.looseBool.def(!1),type:r.string,size:r.oneOf(i("default","small")),actions:r.VNodeChild,tabList:{type:Array},tabBarExtraContent:r.VNodeChild,activeTabKey:r.string,defaultActiveTabKey:r.string,cover:r.VNodeChild,onTabChange:{type:Function}},setup:function(){return{configProvider:l("configProvider",c)}},data:function(){return{widerPadding:!1}},methods:{getAction:function(t){return t.map((function(e,a){return s(e)&&!d(e)||!s(e)?u("li",{style:{width:"".concat(100/t.length,"%")},key:"action-".concat(a)},[u("span",null,F(e)?e:{default:function(){return[e]}})]):null}))},triggerTabChange:function(t){this.$emit("tabChange",t)},isContainGrid:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach((function(e){e&&f(e.type)&&e.type.__ANT_CARD_GRID&&(t=!0)})),t}},render:function(){var t,e,a,n,o,r,i,l,c,s,d,f,v,g,b,C=this.$props,y=C.prefixCls,h=C.headStyle,T=void 0===h?{}:h,A=C.bodyStyle,P=void 0===A?{}:A,I=C.loading,_=C.bordered,x=void 0===_||_,k=C.size,j=void 0===k?"default":k,N=C.type,R=C.tabList,S=C.hoverable,U=C.activeTabKey,O=C.defaultActiveTabKey,B=this.$slots,w=p(this),$=(0,this.configProvider.getPrefixCls)("card",y),L=m(this,"tabBarExtraContent"),V=(q(v={},"".concat($),!0),q(v,"".concat($,"-loading"),I),q(v,"".concat($,"-bordered"),x),q(v,"".concat($,"-hoverable"),!!S),q(v,"".concat($,"-contain-grid"),this.isContainGrid(w)),q(v,"".concat($,"-contain-tabs"),R&&R.length),q(v,"".concat($,"-").concat(j),"default"!==j),q(v,"".concat($,"-type-").concat(N),!!N),v),G=0===P.padding||"0px"===P.padding?{padding:24}:void 0,Y=u("div",{class:"".concat($,"-loading-content"),style:G},[u(M,{gutter:8},F(e=u(z,{span:22},F(t=u("div",{class:"".concat($,"-loading-block")},null))?t:{default:function(){return[t]}}))?e:{default:function(){return[e]}}),u(M,{gutter:8},{default:function(){return[u(z,{span:8},F(a=u("div",{class:"".concat($,"-loading-block")},null))?a:{default:function(){return[a]}}),u(z,{span:15},F(n=u("div",{class:"".concat($,"-loading-block")},null))?n:{default:function(){return[n]}})]}}),u(M,{gutter:8},{default:function(){return[u(z,{span:6},F(o=u("div",{class:"".concat($,"-loading-block")},null))?o:{default:function(){return[o]}}),u(z,{span:18},F(r=u("div",{class:"".concat($,"-loading-block")},null))?r:{default:function(){return[r]}})]}}),u(M,{gutter:8},{default:function(){return[u(z,{span:13},F(i=u("div",{class:"".concat($,"-loading-block")},null))?i:{default:function(){return[i]}}),u(z,{span:9},F(l=u("div",{class:"".concat($,"-loading-block")},null))?l:{default:function(){return[l]}})]}}),u(M,{gutter:8},{default:function(){return[u(z,{span:4},F(c=u("div",{class:"".concat($,"-loading-block")},null))?c:{default:function(){return[c]}}),u(z,{span:3},F(s=u("div",{class:"".concat($,"-loading-block")},null))?s:{default:function(){return[s]}}),u(z,{span:16},F(d=u("div",{class:"".concat($,"-loading-block")},null))?d:{default:function(){return[d]}})]}})]),K=void 0!==U,D=(q(g={size:"large"},K?"activeKey":"defaultActiveKey",K?U:O),q(g,"tabBarExtraContent",L),q(g,"onChange",this.triggerTabChange),q(g,"class","".concat($,"-head-tabs")),g),W=R&&R.length?u(E,D,F(f=R.map((function(t){var e=t.tab,a=t.slots,n=null==a?void 0:a.tab,o=void 0!==e?e:B[n]?B[n](t):null;return u(X,{tab:o,key:t.key,disabled:t.disabled},null)})))?f:{default:function(){return[f]}}):null,H=m(this,"title"),J=m(this,"extra");(H||J||W)&&(b=u("div",{class:"".concat($,"-head"),style:T},[u("div",{class:"".concat($,"-head-wrapper")},[H&&u("div",{class:"".concat($,"-head-title")},F(H)?H:{default:function(){return[H]}}),J&&u("div",{class:"".concat($,"-extra")},F(J)?J:{default:function(){return[J]}})]),W]));var Q=m(this,"cover"),Z=Q?u("div",{class:"".concat($,"-cover")},F(Q)?Q:{default:function(){return[Q]}}):null,tt=u("div",{class:"".concat($,"-body"),style:P},[I?Y:w]),et=m(this,"actions"),at=et&&et.length?u("ul",{class:"".concat($,"-actions")},[this.getAction(et)]):null;return u("div",{class:V,ref:"cardContainerRef"},[b,Z,w?tt:null,at])}});function J(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!s(t)}var Q=n({name:"ACardMeta",props:{prefixCls:r.string,title:r.VNodeChild,description:r.VNodeChild,avatar:r.VNodeChild},setup:function(){return{configProvider:l("configProvider",c)}},render:function(){var t,e,a,n=this.$props.prefixCls,o=(0,this.configProvider.getPrefixCls)("card",n),r=(t={},e="".concat(o,"-meta"),a=!0,e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t),i=m(this,"avatar"),l=m(this,"title"),c=m(this,"description"),s=i?u("div",{class:"".concat(o,"-meta-avatar")},J(i)?i:{default:function(){return[i]}}):null,d=l?u("div",{class:"".concat(o,"-meta-title")},J(l)?l:{default:function(){return[l]}}):null,f=c?u("div",{class:"".concat(o,"-meta-description")},J(c)?c:{default:function(){return[c]}}):null,p=d||f?u("div",{class:"".concat(o,"-meta-detail")},[d,f]):null;return u("div",{class:r},[s,p])}});function Z(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var tt=n({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:r.string,hoverable:r.looseBool},setup:function(){return{configProvider:l("configProvider",c)}},render:function(){var t,e=this.$props,a=e.prefixCls,n=e.hoverable,o=void 0===n||n,r=(0,this.configProvider.getPrefixCls)("card",a),i=(Z(t={},"".concat(r,"-grid"),!0),Z(t,"".concat(r,"-grid-hoverable"),o),t);return u("div",{class:i},[p(this)])}});H.Meta=Q,H.Grid=tt,H.install=function(t){return t.component(H.name,H),t.component(Q.name,Q),t.component(tt.name,tt),t};var et=n({name:"UICard",components:{AntCard:H}});const at=y("data-v-06781f4f"),nt=at(((t,e,a,n,o,r)=>{const i=v("AntCard");return g(),b(i,null,{default:at((()=>[C(t.$slots,"default")])),_:3})}));et.render=nt,et.__scopeId="data-v-06781f4f";var ot=n({name:"UIInputTextArea",components:{AntInputTextArea:L.TextArea}});const rt=y("data-v-7267e24a"),it=rt(((t,e,a,n,o,r)=>{const i=v("AntInputTextArea");return g(),b(i,null,{default:rt((()=>[C(t.$slots,"default")])),_:3})}));ot.render=it,ot.__scopeId="data-v-7267e24a";var lt=n({name:"OrderConfirm",components:{AppTitleBar:t,OrderSteps:e,UIInputTextArea:ot,UICard:et,Icon:h,UISkeleton:G,UIButton:V,PatentImage:Y},setup(){const t=T(),e=A(),a=P(t.query.commodityId),n=I(!1),o=I(!1),r=I(""),i=I(k[0]),l=I({});return _((()=>{n.value=!0,K({commodityId:a,commodityType:"PATENT"}).then((({data:t})=>{l.value=t})).catch((t=>{3200===t.code&&e.push("/order/pay/result?status=0&type=PATENT")})).finally((()=>n.value=!1))})),{PATENT_TYPE:x,PAY_ROUTES:k,remark:r,pageLoading:n,submitLoading:o,currentPayRoute:i,handleBuyClick:()=>{return t=this,n=null,l=function*(){const{payRoute:t,tradeType:n}=i.value;o.value=!0;const{data:l}=yield D({commodityId:a,commodityType:"PATENT",payRoute:t,tradeType:n,remark:r.value}).finally((()=>o.value=!1)),{orderNo:c,tradeNo:s}=l,d=`/order/pay/${"UMS_PAY"===t?"code":"WXPAY"===t?"wechat":"form"}?orderNo=${c}&tradeNo=${s}&type=PATENT&payRoute=${t}&tradeType=${n}`;"UMS_PAY"===t||"WXPAY"===t?yield e.push(d):(W({tradeNo:s,orderNo:c,type:"PATENT",getContainer:"orderConfirm"}),j(d))},new Promise(((e,a)=>{var o=t=>{try{i(l.next(t))}catch(e){a(e)}},r=t=>{try{i(l.throw(t))}catch(e){a(e)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,r);i((l=l.apply(t,n)).next())}));var t,n,l},orderConfirmation:l}}});const ct=y("data-v-69ae923d");N("data-v-69ae923d");const st={id:"orderConfirm",class:"orderConfirm"},dt={class:"pageWidthWithCenter orderConfirmWrapper"},ut={class:"orderConfirm-left"},ft={class:"orderConfirm-left-patent"},pt={class:"patentContent"},mt={class:"patentContent-image"},vt={class:"patentContent-info"},gt={class:"patentContent-info-title"},bt={class:"patentContent-info-col"},Ct=u("label",null,"专利类型",-1),yt=u("label",null,"发明人",-1),ht={class:"patentContent-info-col"},Tt=u("label",null,"专利号",-1),At=u("label",null,"标签",-1),Pt={class:"patentContent-info-col"},It=u("label",null,"法律状态",-1),_t=u("label",null,"价格",-1),xt={class:"patentContent-info-col"},kt=u("label",null,"缴费截止",-1),jt=u("span",null,[u("label",null,"数量"),U("1")],-1),Nt={class:"orderConfirm-left-remark"},Rt={class:"orderConfirm-right"},St={class:"orderConfirm-right-priceItem"},Ut=u("label",null,"原价",-1),Ot=u("label",null,"VIP会员",-1),Bt={class:"orderConfirm-right-priceItem totalAmount"},Et=u("label",null,"实付款",-1),wt={class:"orderConfirm-right-payRoutes"},$t={class:"orderConfirm-right-payRoutes-item-info"},Lt=U("确认付款");R();const Vt=ct(((t,e,a,n,o,r)=>{const i=v("OrderSteps"),l=v("AppTitleBar"),c=v("PatentImage"),s=v("UISkeleton"),d=v("UICard"),f=v("UIInputTextArea"),p=v("Icon"),m=v("UIButton");return g(),b("div",st,[u(l,{title:"确认订单"},{default:ct((()=>[u(i)])),_:1}),u("div",dt,[u("section",ut,[u("div",ft,[u(d,{title:"商品信息"},{default:ct((()=>[u(s,{active:"",paragraph:{rows:5},loading:t.pageLoading},{default:ct((()=>[u("div",pt,[u("div",mt,[u(c,{cover:t.orderConfirmation.categoryCover},null,8,["cover"])]),u("div",vt,[u("h2",gt,S(t.orderConfirmation.name),1),u("p",bt,[u("span",null,[Ct,U(S(t.orderConfirmation.number),1)]),u("span",null,[yt,U(S(t.orderConfirmation.inventorExplain),1)])]),u("p",ht,[u("span",null,[Tt,U(S(t.PATENT_TYPE.label[t.orderConfirmation.type]),1)]),u("span",null,[At,U(S(t.orderConfirmation.tags),1)])]),u("p",Pt,[u("span",null,[It,U(S(t.orderConfirmation.legalStatus),1)]),u("span",null,[_t,U("￥"+S(t.orderConfirmation.price),1)])]),u("p",xt,[u("span",null,[kt,U(S(t.orderConfirmation.paymentDeadline||"暂无"),1)]),jt])])])])),_:1},8,["loading"])])),_:1})]),u("div",Nt,[u(d,{title:"订单备注"},{default:ct((()=>[u(s,{active:"",paragraph:{rows:3},loading:t.pageLoading},{default:ct((()=>[u(f,{value:t.remark,"onUpdate:value":e[1]||(e[1]=e=>t.remark=e),"html-type":"textarea",placeholder:"请输入订单备注（选填）",rows:6},null,8,["value"])])),_:1},8,["loading"])])),_:1})])]),u("section",Rt,[u(d,{title:"订单金额"},{default:ct((()=>[u(s,{active:"",paragraph:{rows:13},loading:t.pageLoading},{default:ct((()=>[u("p",St,[Ut,u("span",null,"￥"+S(t.orderConfirmation.price),1)]),(g(!0),b(O,null,B(t.orderConfirmation.discounts||[],(t=>(g(),b("p",{class:"orderConfirm-right-priceItem",key:t.price},[Ot,u("span",null,"-￥"+S(t.price),1)])))),128)),u("p",Bt,[Et,u("b",null,"￥"+S(t.orderConfirmation.totalAmount),1)]),u("ul",wt,[(g(!0),b(O,null,B(t.PAY_ROUTES,(e=>(g(),b("li",{key:e.icon,onClick:a=>t.currentPayRoute=e,class:"orderConfirm-right-payRoutes-item"},[u(p,{class:"orderConfirm-right-payRoutes-item-payIcon",icon:e.icon},null,8,["icon"]),u("div",$t,[u("b",null,S(e.label),1),u("p",null,S(e.description),1)]),u("div",{class:["orderConfirm-right-payRoutes-item-radio",[t.currentPayRoute.payRoute===e.payRoute&&"active"]]},[u(p,{icon:"tick"})],2)],8,["onClick"])))),128))]),u(m,{loading:t.submitLoading,class:"orderConfirm-right-payButton",onClick:t.handleBuyClick,"customer-class":"dangerButton",type:"primary",block:""},{default:ct((()=>[Lt])),_:1},8,["loading","onClick"])])),_:1},8,["loading"])])),_:1})])])])}));lt.render=Vt,lt.__scopeId="data-v-69ae923d";export default lt;
