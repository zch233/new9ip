var t=(t,e,s)=>new Promise(((n,r)=>{var o=t=>{try{i(s.next(t))}catch(e){r(e)}},a=t=>{try{i(s.throw(t))}catch(e){r(e)}},i=t=>t.done?n(t.value):Promise.resolve(t.value).then(o,a);i((s=s.apply(t,e)).next())}));import{d as e,S as s,G as n,H as r,k as o,A as a,E as i,D as u,K as c,P as l,ak as d,B as f,aG as p,L as h,N as m,ae as y,af as b,z as g,b6 as v,aX as C,h as S,i as N,j as x,y as P,q as O,_ as j,x as w,r as B,o as T,c as k,b7 as _,p as D,f as I,m as A,t as $,n as U,F as V,l as E}from"./index.245536e6.js";import{_ as Z}from"./index.192f7ff4.js";import{_ as H}from"./index.66ef9745.js";import{_ as W}from"./UIButton.e515563a.js";import{d as z}from"./patent.46ef1368.js";import{g as L}from"./order.0cdb4a0d.js";import"./vendor.5c0531cb.js";import"./index.a0cb7711.js";function M(){return(M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}function F(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!i(t)}function R(t){return t?t.toString().split("").reverse().map((function(t){var e=Number(t);return isNaN(e)?t:e})):[]}var Y=e({name:"ScrollNumber",mixins:[s],inheritAttrs:!1,props:{prefixCls:l.string,count:l.any,component:l.string,title:l.oneOfType([l.number,l.string,null]),displayComponent:l.any,onAnimated:l.func},emits:["animated"],setup:function(){return{configProvider:n("configProvider",r),lastCount:void 0,timeout:void 0}},data:function(){return{animateStarted:!0,sCount:this.count}},watch:{count:function(){this.lastCount=this.sCount,this.setState({animateStarted:!0})}},updated:function(){var t=this,e=this.animateStarted,s=this.count;e&&(this.clearTimeout(),this.timeout=setTimeout((function(){t.setState({animateStarted:!1,sCount:s},t.handleAnimated)})))},beforeUnmount:function(){this.clearTimeout()},methods:{clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)})),getPositionByNum:function(t,e){var s=this.sCount,n=Math.abs(Number(s)),r=Math.abs(Number(this.lastCount)),o=Math.abs(R(s)[e]),a=Math.abs(R(this.lastCount)[e]);return this.animateStarted?10+t:n>r?o>=a?10+t:20+t:o<=a?10+t:t},handleAnimated:function(){this.$emit("animated")},renderNumberList:function(t,e){for(var s=[],n=0;n<30;n++)s.push(o("p",{key:n.toString(),class:a(e,{current:t===n})},[n%10]));return s},renderCurrentNumber:function(t,e,s){if("number"==typeof e){var n=this.getPositionByNum(e,s),r={transition:this.animateStarted||void 0===R(this.lastCount)[s]?"none":void 0,msTransform:"translateY(".concat(100*-n,"%)"),WebkitTransform:"translateY(".concat(100*-n,"%)"),transform:"translateY(".concat(100*-n,"%)")};return o("span",{class:"".concat(t,"-only"),style:r,key:s},[this.renderNumberList(n,"".concat(t,"-only-unit"))])}return o("span",{key:"symbol",class:"".concat(t,"-symbol")},F(e)?e:{default:function(){return[e]}})},renderNumberElement:function(t){var e=this,s=this.sCount;return s&&Number(s)%1==0?R(s).map((function(s,n){return e.renderCurrentNumber(t,s,n)})).reverse():s}},render:function(){var t,e=this.prefixCls,s=this.title,n=this.component,r=void 0===n?"sup":n,i=this.displayComponent,l=(0,this.configProvider.getPrefixCls)("scroll-number",e),d=this.$attrs,f=d.class,p=d.style,h=void 0===p?{}:p;if(i)return u(i,{class:a("".concat(l,"-custom-component"),i.props&&i.props.class)});var m=c(M(M({},this.$props),this.$attrs),["count","onAnimated","component","prefixCls","displayComponent"]),y=M({},h),b=M(M({},m),{title:s,style:y,class:a(l,f)});return h&&h.borderColor&&(b.style.boxShadow="0 0 0 1px ".concat(h.borderColor," inset")),o(r,b,F(t=this.renderNumberElement(l))?t:{default:function(){return[t]}})}});function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function K(){return(K=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}function X(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!i(t)}function J(t){return-1!==p.indexOf(t)}var Q=e({name:"ABadge",props:d({count:l.VNodeChild,showZero:l.looseBool,overflowCount:l.number,dot:l.looseBool,prefixCls:l.string,scrollNumberPrefixCls:l.string,status:l.oneOf(g("success","processing","default","error","warning")),color:l.string,text:l.VNodeChild,offset:l.arrayOf(l.oneOfType([String,Number])),numberStyle:l.style,title:l.string},{showZero:!1,dot:!1,overflowCount:99}),setup:function(){return{configProvider:n("configProvider",r),badgeCount:void 0}},methods:{getNumberedDispayCount:function(){var t=this.$props.overflowCount,e=this.badgeCount;return e>t?"".concat(t,"+"):e},getDispayCount:function(){return this.isDot()?"":this.getNumberedDispayCount()},getScrollNumberTitle:function(){var t=this.$props.title,e=this.badgeCount;return t||("string"==typeof e||"number"==typeof e?e:void 0)},getStyleWithOffset:function(){var t,e=this.$props,s=e.offset,n=e.numberStyle;return K(s?{right:"".concat(-parseInt(s[0],10),"px"),marginTop:(t=s[1],!isNaN(parseFloat(t))&&isFinite(t)?"".concat(s[1],"px"):s[1])}:{},n)},getBadgeClassName:function(t,e){var s,n=this.hasStatus();return a(t,(q(s={},"".concat(t,"-status"),n),q(s,"".concat(t,"-dot-status"),n&&this.dot&&!this.isZero()),q(s,"".concat(t,"-not-a-wrapper"),!e.length),s))},hasStatus:function(){var t=this.$props,e=t.status,s=t.color;return!!e||!!s},isZero:function(){var t=this.getNumberedDispayCount();return"0"===t||0===t},isDot:function(){var t=this.$props.dot,e=this.isZero();return t&&!e||this.hasStatus()},isHidden:function(){var t=this.$props.showZero,e=this.getDispayCount(),s=this.isZero(),n=this.isDot();return(null==e||""===e||s&&!t)&&!n},renderStatusText:function(t){var e=f(this,"text");return this.isHidden()||!e?null:o("span",{class:"".concat(t,"-status-text")},X(e)?e:{default:function(){return[e]}})},renderDispayComponent:function(){var t=this.badgeCount;if(t&&"object"===G(t))return u(t,{style:this.getStyleWithOffset()},!1)},renderBadgeNumber:function(t,e){var s,n=this.$props,r=n.status,a=n.color,i=this.badgeCount,u=this.getDispayCount(),c=this.isDot(),l=this.isHidden(),d=(q(s={},"".concat(t,"-dot"),c),q(s,"".concat(t,"-count"),!c),q(s,"".concat(t,"-multiple-words"),!c&&i&&i.toString&&i.toString().length>1),q(s,"".concat(t,"-status-").concat(r),!!r),q(s,"".concat(t,"-status-").concat(a),J(a)),s),f=this.getStyleWithOffset();return a&&!J(a)&&((f=f||{}).background=a),l?null:h(o(Y,{prefixCls:e,"data-show":!l,class:d,count:u,displayComponent:this.renderDispayComponent(),title:this.getScrollNumberTitle(),style:f,key:"scrollNumber"},null),[[v,!l]])}},render:function(){var t,e=this.prefixCls,s=this.scrollNumberPrefixCls,n=this.status,r=this.color,i=f(this,"text"),u=this.configProvider.getPrefixCls,c=u("badge",e),l=u("scroll-number",s),d=m(this),p=f(this,"count");Array.isArray(p)&&(p=p[0]),this.badgeCount=p;var h=this.renderBadgeNumber(c,l),g=this.renderStatusText(c),v=a((q(t={},"".concat(c,"-status-dot"),this.hasStatus()),q(t,"".concat(c,"-status-").concat(n),!!n),q(t,"".concat(c,"-status-").concat(r),J(r)),t)),C={};if(r&&!J(r)&&(C.background=r),!d.length&&this.hasStatus()){var S=this.getStyleWithOffset(),N=S&&S.color;return o("span",{class:this.getBadgeClassName(c,d),style:S},[o("span",{class:v,style:C},null),o("span",{style:{color:N},class:"".concat(c,"-status-text")},X(i)?i:{default:function(){return[i]}})])}var x=y(d.length?"".concat(c,"-zoom"):"");return o("span",{class:this.getBadgeClassName(c,d)},[d,o(b,x,X(h)?h:{default:function(){return[h]}}),g])}}),tt=e({name:"UIBadge",components:{AntBadge:C(Q)}});const et=O("data-v-6ac34504"),st=et(((t,e,s,n,r,o)=>{const a=S("AntBadge");return N(),x(a,null,{default:et((()=>[P(t.$slots,"default")])),_:3})}));tt.render=st,tt.__scopeId="data-v-6ac34504";var nt=e({name:"User",components:{VIPBrand:Z,UIButton:W,Icon:j,PatentCard:H,UIBadge:tt},setup(){const e=w(),s=B([]),n=B(0),r=()=>t(this,null,(function*(){const{data:t}=yield z({size:8});s.value=t.list})),o=()=>t(this,null,(function*(){const{data:t}=yield L({status:_.CREATED.toString(),size:1});n.value=t.totalCount}));return T((()=>{r(),o(),e.dispatch("setUser")})),{user:k((()=>e.getters.user)),userPoints:k((()=>e.getters.userPoints)),recommendPatents:s,waitOrderNumber:n}}});const rt=O("data-v-bc0b5f70");D("data-v-bc0b5f70");const ot={class:"user"},at={class:"user-head"},it={class:"user-head-left"},ut={class:"user-head-left-headImage"},ct={class:"user-head-left-info"},lt={class:"user-head-left-info-account"},dt={key:1,class:"userTag"},ft={key:0,class:"user-head-left-info-vipExpireTime"},pt={class:"user-head-left-info-point"},ht={class:"user-head-right"},mt={class:"darkButton"},yt=A("开通记录"),bt={class:"user-orders"},gt=o("p",{class:"cardTitle"},[o("em",null,"我的订单")],-1),vt={class:"orderViews"},Ct=o("p",null,"待付款",-1),St=o("p",null,"已付款",-1),Nt=o("p",null,"全部订单",-1),xt={class:"user-recommend"},Pt={class:"cardTitle"},Ot=o("em",null,"猜你喜欢",-1),jt=A("查看更多 "),wt={class:"recommendPatents"};I();const Bt=rt(((t,e,s,n,r,a)=>{const i=S("Icon"),u=S("VIPBrand"),c=S("RouterLink"),l=S("UIBadge"),d=S("PatentCard");return N(),x("div",ot,[o("section",at,[o("div",it,[o("div",ut,[t.user.avatar?(N(),x("img",{key:0,src:t.user.avatar,alt:""},null,8,["src"])):(N(),x(i,{key:1,icon:"defaultHeadImage"}))]),o("div",ct,[o("p",lt,[A($(t.user.nickname),1),t.user.hasVip?(N(),x(u,{key:0})):(N(),x("span",dt,"普通会员"))]),t.user.hasVip?(N(),x("p",ft,"到期时间："+$(t.user.vipExpireDate),1)):U("v-if",!0),o("span",pt,[o(c,{to:"/user/point"},{default:rt((()=>[o(i,{icon:"point"}),A($(t.userPoints)+" 积分",1)])),_:1})])])]),o("div",ht,[o(c,{to:"/vip"},{default:rt((()=>[o("button",mt,[A("立即"+$(t.user.hasVip?"续费":"开通"),1),o(i,{icon:"right_fill"})])])),_:1}),o(c,{to:"/user/vipRecord"},{default:rt((()=>[yt])),_:1})])]),o("section",bt,[gt,o("div",vt,[o(c,{to:"/user/order?status=0"},{default:rt((()=>[o(l,{count:t.waitOrderNumber},{default:rt((()=>[o(i,{icon:"waitPay"})])),_:1},8,["count"]),Ct])),_:1}),o(c,{to:"/user/order?status=1"},{default:rt((()=>[o(i,{icon:"hadPay"}),St])),_:1}),o(c,{to:"/user/order"},{default:rt((()=>[o(i,{icon:"finishPay"}),Nt])),_:1})])]),o("section",xt,[o("p",Pt,[Ot,o(c,{to:"/patent"},{default:rt((()=>[jt,o(i,{icon:"right"})])),_:1})]),o("div",wt,[(N(!0),x(V,null,E(t.recommendPatents,(t=>(N(),x("div",{class:"recommendPatents-item",key:t.id},[o(d,{patent:t},null,8,["patent"])])))),128))])])])}));nt.render=Bt,nt.__scopeId="data-v-bc0b5f70";export default nt;
