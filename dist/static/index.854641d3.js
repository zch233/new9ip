var t=Object.assign,e=(t,e,a)=>new Promise(((s,n)=>{var l=t=>{try{o(a.next(t))}catch(e){n(e)}},i=t=>{try{o(a.throw(t))}catch(e){n(e)}},o=t=>t.done?s(t.value):Promise.resolve(t.value).then(l,i);o((a=a.apply(t,e)).next())}));import{d as a,_ as s,ay as n,az as l,aA as i,aB as o,aC as r,p as c,f as p,h as d,i as u,j as m,F as v,l as g,n as T,k as b,m as f,q as y,t as S,aD as h,x as I,u as _,a as P,r as L,$ as B,aE as E,o as k,b as A,c as U,aF as C,e as x,g as j}from"./index.2fd7dcd5.js";import{_ as w}from"./UITag.e8c9d8a6.js";import{_ as N}from"./UIButton.7c2b0188.js";import{_ as M}from"./UIPagination.863f952a.js";import{_ as H}from"./UISpin.b5cc3b7f.js";import{_ as K}from"./UIEmpty.4f78955d.js";import{_ as O}from"./UITooltip.b7005cca.js";import{b as R,e as F,a as q}from"./patent.b5041caa.js";import{_ as z,a as $}from"./index.2675b3c5.js";import{_ as G}from"./index.242155ca.js";import{_ as V}from"./index.d75f557f.js";import{_ as Q}from"./index.02d26804.js";import"./vendor.5c0531cb.js";import"./SearchOutlined.8dc03704.js";import"./omit.f47c76bb.js";import"./toString.88eca99c.js";import"./isSymbol.8cc5df83.js";import"./identity.048cb754.js";import"./_baseSlice.87986fb0.js";import"./CheckOutlined.5782a841.js";import"./LeftOutlined.9871930f.js";import"./debounce.4b24ad11.js";import"./toNumber.72972096.js";import"./collect.06a493da.js";import"./UIModal.7853ad9a.js";import"./UICountdown.1794fc68.js";import"./_baseProperty.67ad8ad6.js";var W=a({name:"ImageList",components:{UITag:w,Icon:s,UIButton:N,VIPBrand:G,StarIcon:z,PatentImage:V,PrePatentCountdown:Q,PreorderButton:$},props:{patents:{type:Object,default:()=>[]},startIndex:Number},setup:()=>({PATENT_TYPE:n,PATENT_CERT_STATUS:l,PATENT_ORIGIN_STATUS:i,PATENT_STOCK_STATUS:o,notActivePatent:r})});const Y=T("data-v-c8dda8f2");c("data-v-c8dda8f2");const D={key:0,class:"patentListBar-list-item"},J={class:"patentListBar-list-item-content"},X={class:"patentListBar-list-item-content-firstFloor"},Z={class:"patentListBar-list-item-content-firstFloor-info"},tt={key:0},et={class:"patentListBar-list-item-content-secondFloor"},at={class:"patentListBar-list-item-content-secondFloor-des"},st=y("专利号："),nt={class:"patentListBar-list-item-content-secondFloor-des-tags"},lt=y("领域："),it={class:"patentListBar-list-item-content-secondFloor-des"},ot={class:"patentListBar-list-item-content-thirdFloor"},rt={class:"patentListBar-list-item-content-thirdFloor-status"},ct={class:"patentListBar-list-item-content-thirdFloor-price"},pt=y("零售价："),dt={class:"vipPrice"},ut=y("￥"),mt=y("预购");p();const vt=Y(((t,e,a,s,n,l)=>{const i=d("PatentImage"),o=d("PrePatentCountdown"),r=d("StarIcon"),c=d("RouterLink"),p=d("VIPBrand"),T=d("UIButton"),h=d("PreorderButton");return u(),m("ul",{class:"patentListBar-list",style:{paddingTop:145*t.startIndex+"px"}},[(u(!0),m(v,null,g(t.patents,((e,a)=>(u(),m(v,{key:e.number},[a>=t.startIndex&&a<=t.startIndex+30?(u(),m("li",D,[b("a",{target:"_blank",href:`/patent/${e.number}`},[b("div",{class:["patentListBar-list-item-image patentLabel",e.newest?"new":e.hot?"hot":""]},[b(i,{cover:e.categoryCover},null,8,["cover"])],2)],8,["href"]),b("div",J,[b("div",X,[b("a",{target:"_blank",href:`/patent/${e.number}`},[b("b",{class:"patentListBar-list-item-content-firstFloor-title searchKeyword",innerHTML:e.nameHighlightKey||e.name},null,8,["innerHTML"])],8,["href"]),b("p",Z,[e.stockStatus===t.PATENT_STOCK_STATUS.RESERVING?(u(),m("label",tt,[b(o,{patent:e},null,8,["patent"])])):f("",!0),b(r,{patent:e},null,8,["patent"])])]),b("div",et,[b("p",at,[b("label",null,[st,b("span",{class:"searchKeyword",innerHTML:e.numberHighlightKey||e.number},null,8,["innerHTML"])]),b("label",nt,[lt,(u(!0),m(v,null,g((e.tagsHighlightKey||e.tags).split(","),((t,a)=>{var s;return u(),m("span",{class:"searchKeyword",key:t},[b(c,{to:`/patent?word=${encodeURIComponent(null==(s=e.tags)?void 0:s.split(",")[a])}`,innerHTML:t},null,8,["to","innerHTML"]),y(S(a===(e.tagsHighlightKey||e.tags).split(",").length-1?"":"，"),1)])})),128))]),b("label",null,"发明人："+S(e.inventorExplain),1)]),b("p",it,[b("label",null,"专利类型："+S(t.PATENT_TYPE.label[e.type]),1),b("label",null,"法律状态："+S(t.PATENT_CERT_STATUS.label[e.certStatus]),1)])]),b("div",ot,[b("div",rt,[b("span",{class:["patentListBar-list-item-content-thirdFloor-status-tag",e.stockStatus===t.PATENT_STOCK_STATUS.CAN_SELL?"success":e.stockStatus===t.PATENT_STOCK_STATUS.PRE_SELL?"primary":"disabled"]},S(t.PATENT_STOCK_STATUS.label[e.stockStatus]),3)]),b("div",ct,[b("label",null,[pt,b("b",null,"￥"+S(e.price),1)]),b(p,{class:"vipBrand"}),b("b",dt,[ut,b("em",null,S(e.vipPrice),1)]),b(c,{class:"buyButton",to:{path:"/order/confirm",query:{commodityId:e.id}}},{default:Y((()=>[b(T,{disabled:t.notActivePatent(e.stockStatus),type:"primary","customer-class":"dangerButton"},{default:Y((()=>[mt])),_:2},1032,["disabled"])])),_:2},1032,["to"]),b(h,{buttonClass:"preorderButton_imageMode",disabled:t.notActivePatent(e.stockStatus),patent:e},null,8,["disabled","patent"])])])])])):f("",!0)],64)))),128))],4)}));W.render=vt,W.__scopeId="data-v-c8dda8f2";var gt=a({name:"TableList",components:{UITag:w,Icon:s,UIButton:N,VIPBrand:G,StarIcon:z,PatentImage:V,PrePatentCountdown:Q,PreorderButton:$},props:{patents:{type:Object,default:()=>[]},startIndex:Number},setup:()=>({PATENT_CERT_STATUS:l,PATENT_STOCK_STATUS:o,notActivePatent:r})});const Tt=T("data-v-2d47f4b8");c("data-v-2d47f4b8");const bt=h('<section class="patentList-title" data-v-2d47f4b8><span class="col-order" data-v-2d47f4b8>序号</span><span class="col-name" data-v-2d47f4b8>专利名称</span><span class="col-number" data-v-2d47f4b8>专利号</span><span class="col-legalStatus" data-v-2d47f4b8>法律状态</span><span class="col-tag" data-v-2d47f4b8>领域</span><span class="col-inventorExplain" data-v-2d47f4b8>发明人</span><span class="col-status" data-v-2d47f4b8>状态</span><span class="col-price" data-v-2d47f4b8>零售价</span><span class="col-vipPrice" data-v-2d47f4b8>VIP价</span><span class="col-options" data-v-2d47f4b8>操作</span></section>',1),ft={key:0,class:"patentList-content-item"},yt={class:"col-order"},St={class:"col-name searchKeyword"},ht={class:"col-legalStatus"},It={class:"col-tag"},_t={class:"col-inventorExplain"},Pt={class:"col-status"},Lt={class:"col-price"},Bt={class:"col-vipPrice"},Et={class:"col-options"},kt=y("预购"),At={key:1,class:"preStatus"};p();const Ut=Tt(((t,e,a,s,n,l)=>{const i=d("RouterLink"),o=d("UIButton"),r=d("PreorderButton"),c=d("PrePatentCountdown"),p=d("StarIcon");return u(),m(v,null,[bt,b("section",{class:"patentList-content",style:{paddingTop:45*t.startIndex+"px"}},[(u(!0),m(v,null,g(t.patents,((e,a)=>(u(),m(v,{key:e.number},[a>=t.startIndex&&a<=t.startIndex+30?(u(),m("div",ft,[b("span",yt,S(a+1),1),b("label",St,[b("a",{class:["patentLabel",e.newest?"new":e.hot?"hot":""],href:`/patent/${e.number}`,target:"_blank"},[b("b",{innerHTML:e.nameHighlightKey||e.name},null,8,["innerHTML"])],10,["href"])]),b("span",{class:"col-number searchKeyword",innerHTML:e.numberHighlightKey||e.number},null,8,["innerHTML"]),b("span",ht,S(t.PATENT_CERT_STATUS.label[e.certStatus]),1),b("span",It,[(u(!0),m(v,null,g((e.tagsHighlightKey||e.tags).split(","),((t,a)=>{var s;return u(),m("span",{class:"searchKeyword",key:t},[b(i,{to:`/patent?word=${encodeURIComponent(null==(s=e.tags)?void 0:s.split(",")[a])}`,innerHTML:t},null,8,["to","innerHTML"]),y(S(a===(e.tagsHighlightKey||e.tags).split(",").length-1?"":","),1)])})),128))]),b("span",_t,S(e.inventorExplain),1),b("span",Pt,S(t.PATENT_STOCK_STATUS.label[e.stockStatus]),1),b("span",Lt,"￥"+S(e.price),1),b("span",Bt,"￥"+S(e.vipPrice),1),b("div",Et,[b(i,{class:"buyButton",to:{path:"/order/confirm",query:{commodityId:e.id}}},{default:Tt((()=>[b(o,{size:"small",disabled:t.notActivePatent(e.stockStatus),type:"primary","customer-class":"dangerButton"},{default:Tt((()=>[kt])),_:2},1032,["disabled"])])),_:2},1032,["to"]),t.notActivePatent(e.stockStatus)?f("",!0):(u(),m(r,{key:0,buttonClass:"preorderButton_noGap",size:"small",patent:e},null,8,["patent"])),e.stockStatus===t.PATENT_STOCK_STATUS.RESERVING?(u(),m("div",At,[b(c,{patent:e},null,8,["patent"])])):f("",!0),b(p,{class:"starIcon_noGap",patent:e},null,8,["patent"])])])):f("",!0)],64)))),128))],4)],64)}));gt.render=Ut,gt.__scopeId="data-v-2d47f4b8";var Ct=a({name:"Patent",components:{UITag:w,Icon:s,UIButton:N,UIPagination:M,UISpin:H,UIEmpty:K,UITooltip:O,ImageList:W,TableList:gt},setup(){const a=I(),s=_(),o=P(),c=L(null),p=L(0),d=L(!1),u=L(!1),m=L("imageList"),v=L(s.query),g=L([]),T=B({total:0,current:1,pageSize:30,totalPages:0}),b=L([]),f=L({visible:!0,text:"收起筛选",icon:"top"}),y=(a,s)=>e(this,null,(function*(){if(d.value)return;d.value=!0,s&&(T.current=1);const{data:e}=yield R(t({size:T.pageSize,no:T.current},a)).finally((()=>d.value=!1));s&&(g.value=[]),g.value=g.value.concat((null==e?void 0:e.list)||[]),T.total=null==e?void 0:e.totalCount,T.current=(null==e?void 0:e.no)+1,T.pageSize=null==e?void 0:e.size,T.totalPages=e.totalPages})),S=()=>e(this,null,(function*(){const{data:t}=yield q();b.value=t||[]})),h=()=>{const t=j(),e=window.innerHeight||Math.min(document.documentElement.clientHeight,document.body.clientHeight),a=c.value.offsetTop,s="tableList"===m.value?45:145,n=g.value.length*s,l=4*s,i=a+l;if(p.value=t>i?parseInt((t-i)/s):0,n+a-l<e+t){if(T.current>T.totalPages)return;y(v.value)}},w=()=>e(this,null,(function*(){u.value=!0,yield y(v.value).finally((()=>u.value=!1)),v.value.listMode&&(m.value=v.value.listMode),window.addEventListener("scroll",h),yield S()}));return E((t=>e(this,null,(function*(){u.value=!0,v.value=t.query,t.query.listMode&&(m.value=t.query.listMode),yield y(t.query,!0).finally((()=>u.value=!1))})))),k((()=>w())),A((()=>window.removeEventListener("scroll",h))),{PATENT_TYPE:n,PATENT_CERT_STATUS:l,PATENT_ORIGIN_STATUS:i,patentListBarRef:c,filterControl:f,handleFilterControl:()=>{f.value=f.value.visible?{visible:!1,text:"显示筛选",icon:"down"}:{visible:!0,text:"收起筛选",icon:"top"}},getPatents:y,refreshList:()=>e(this,null,(function*(){u.value=!0,window.scroll(0,0),yield y(v.value,!0).finally((()=>u.value=!1))})),exportPatent:a=>e(this,null,(function*(){const e={all:{size:-1},result:t({size:T.pageSize},v.value)},s=yield F(e[a]),n=new Date;C(s,`${n.getFullYear()}年${n.getMonth()+1}月${n.getDate()}日--第九区活动专利清单`),x.success("导出成功！")})),paginationOptions:T,patentsTags:b,patents:g,routeQuery:v,loading:d,listLoading:u,router:o,listMode:m,startIndex:p,handleFilterClick:e=>{const{type:a,inventor:s,certStatus:n,word:l}=v.value;o.push({path:"/sales",query:JSON.parse(JSON.stringify(t({word:l,type:a,inventor:s,certStatus:n},e)))})},loginStatus:U((()=>a.getters.loginStatus)),notActivePatent:r}}});const xt=T("data-v-ee6f305e");c("data-v-ee6f305e");const jt={class:"pageWidthWithCenter patent"},wt=b("section",{class:"patentSalesImageWrapper"},[b("img",{src:"https://market.img.9ip.com/patentSalesBanner.jpg",alt:""})],-1),Nt={class:"patentListBar-options"},Mt=b("div",{class:"patentListBar-options-order"},null,-1),Ht={class:"patentListBar-options-extra"},Kt={key:3,class:"listBottom"},Ot={key:1,class:"emptyWrapper"};p();const Rt=xt(((e,a,s,n,l,i)=>{const o=d("Icon"),r=d("UITooltip"),c=d("ImageList"),p=d("TableList"),g=d("UISpin"),T=d("UIEmpty");return u(),m("div",jt,[wt,b("section",{ref:"patentListBarRef",class:["patentListBar",!e.loginStatus&&"notSignIn"]},[b("div",Nt,[Mt,b("div",Ht,[e.loginStatus?(u(),m(v,{key:0},[],64)):f("",!0),b(r,{title:"刷新页面"},{default:xt((()=>[b(o,{onClick:e.refreshList,icon:"refresh"},null,8,["onClick"])])),_:1}),b(r,{title:"切换视图"},{default:xt((()=>["imageList"===e.listMode?(u(),m(o,{key:0,onClick:a[1]||(a[1]=a=>e.router.push({path:"/sales",query:t(t({},e.routeQuery),{listMode:"tableList"})})),icon:"tableList"})):(u(),m(o,{key:1,onClick:a[2]||(a[2]=a=>e.router.push({path:"/sales",query:t(t({},e.routeQuery),{listMode:"imageList"})})),icon:"imageList"}))])),_:1})])]),b(g,{spinning:e.listLoading},{default:xt((()=>[e.patents.length>0?(u(),m(v,{key:0},["imageList"===e.listMode?(u(),m(c,{key:0,startIndex:e.startIndex,patents:e.patents},null,8,["startIndex","patents"])):(u(),m(p,{key:1,startIndex:e.startIndex,patents:e.patents},null,8,["startIndex","patents"])),e.paginationOptions.current<=e.paginationOptions.totalPages?(u(),m(g,{key:2,spinning:e.loading},{default:xt((()=>[b("p",{class:"listBottom",onClick:a[3]||(a[3]=t=>e.getPatents(e.routeQuery))},"点击加载更多")])),_:1},8,["spinning"])):(u(),m("p",Kt,"-------- 我们是有底线的 --------"))],64)):(u(),m("div",Ot,[e.loading?f("",!0):(u(),m(T,{key:0,image:"patent",description:"暂无搜索结果"}))]))])),_:1},8,["spinning"])],2)])}));Ct.render=Rt,Ct.__scopeId="data-v-ee6f305e";export default Ct;
