import{d as e,_ as a,r as t,am as n,w as o,e as s,p as l,f as c,h as r,i as d,j as i,n as u,k as v,q as p}from"./index.fa7a2cf1.js";import{s as m}from"./collect.501c8231.js";var f=e({name:"starIcon",components:{Icon:a},props:{complex:Boolean,patent:{type:Object,default:()=>({})}},setup(e,a){const l=t(!1),{patent:c}=n(e),r=t(!1);return o((()=>{r.value=c.value.collected})),{patent:c,collected:r,optionPatent:()=>{return e=this,t=null,n=function*(){l.value||(l.value=!0,yield m(c.value.id).finally((()=>l.value=!1)),s.success(r.value?"已从我的收藏移除":"已加入我的收藏"),r.value=!r.value,a.emit("star",r.value))},new Promise(((a,o)=>{var s=e=>{try{c(n.next(e))}catch(a){o(a)}},l=e=>{try{c(n.throw(e))}catch(a){o(a)}},c=e=>e.done?a(e.value):Promise.resolve(e.value).then(s,l);c((n=n.apply(e,t)).next())}));var e,t,n}}}});const y=p("data-v-6008d6de");l("data-v-6008d6de");const h={key:0};c();const x=y(((e,a,t,n,o,s)=>{const l=r("Icon");return d(),i("div",{class:"starIcon",onClick:a[1]||(a[1]=(...a)=>e.optionPatent&&e.optionPatent(...a))},[e.complex?(d(),i("label",h,"收藏")):u("v-if",!0),v(l,{icon:"star"+(e.collected?"_fill":"")},null,8,["icon"])])}));f.render=x,f.__scopeId="data-v-6008d6de";export{f as _};
