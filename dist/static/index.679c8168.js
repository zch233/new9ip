let e=document.createElement("style");e.innerHTML=".orderConfirm[data-v-5d1606fa]{margin-bottom:10px}.orderConfirm .ant-card[data-v-5d1606fa]{height:100%}.orderConfirm-left[data-v-5d1606fa]{margin-right:10px;-webkit-box-flex:1;-webkit-flex:1 1 0;flex:1 1 0;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.orderConfirm-left-patent[data-v-5d1606fa]{margin-bottom:10px}.orderConfirm-left-patent .patentContent[data-v-5d1606fa]{display:-webkit-box;display:-webkit-flex;display:flex}.orderConfirm-left-patent .patentContent-image[data-v-5d1606fa]{width:200px;border:1px solid #dbdbdb;padding:4px}.orderConfirm-left-patent .patentContent-image img[data-v-5d1606fa]{width:100%}.orderConfirm-left-patent .patentContent-info[data-v-5d1606fa]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:34px}.orderConfirm-left-patent .patentContent-info-title[data-v-5d1606fa]{font-size:20px;font-weight:700;margin-bottom:.9em;line-height:1.4;height:2.8em}.orderConfirm-left-patent .patentContent-info-col[data-v-5d1606fa]{margin-bottom:9px;color:#333;display:-webkit-box;display:-webkit-flex;display:flex}.orderConfirm-left-patent .patentContent-info-col>span[data-v-5d1606fa]{width:46%}.orderConfirm-left-patent .patentContent-info-col[data-v-5d1606fa]:last-child{margin-bottom:0}.orderConfirm-left-patent .patentContent-info-col label[data-v-5d1606fa]{color:#666;display:inline-block;width:40%}.orderConfirm-left-remark[data-v-5d1606fa]{-webkit-box-flex:1;-webkit-flex:1 1 0;flex:1 1 0}.orderConfirm-right[data-v-5d1606fa]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30%}.orderConfirm-right-priceItem[data-v-5d1606fa]{color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:10px;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;line-height:1.6}.orderConfirm-right-priceItem[data-v-5d1606fa]:last-child{margin-bottom:20px}.orderConfirm-right-priceItem.totalAmount[data-v-5d1606fa]{margin-top:30px}.orderConfirm-right-priceItem.totalAmount b[data-v-5d1606fa]{color:#ff5858;font-size:30px;line-height:1}.orderConfirm-right-payRoutes[data-v-5d1606fa]{border-top:1px dashed #e8e8e8;padding:20px 0}.orderConfirm-right-payRoutes-item[data-v-5d1606fa]{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:flex;cursor:pointer}.orderConfirm-right-payRoutes-item-payIcon[data-v-5d1606fa]{font-size:42px}.orderConfirm-right-payRoutes-item-info[data-v-5d1606fa]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#999;font-size:12px;padding-left:20px}.orderConfirm-right-payRoutes-item-info p[data-v-5d1606fa]{margin-bottom:0}.orderConfirm-right-payRoutes-item-info b[data-v-5d1606fa]{font-size:14px;color:#333}.orderConfirm-right-payRoutes-item-radio[data-v-5d1606fa]{color:#fff;border:1px solid #dedede;-webkit-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;width:1.8em;height:1.8em;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:.2s;transition:.2s}.orderConfirm-right-payRoutes-item-radio.active[data-v-5d1606fa]{background-color:#ff5858;border-color:#ff5858}.orderConfirm-right-payButton[data-v-5d1606fa]{height:50px;font-size:18px;margin-top:10px}.orderConfirmWrapper[data-v-5d1606fa]{display:-webkit-box;display:-webkit-flex;display:flex;padding:20px 0}",document.head.appendChild(e);import{aL as t,d as a,N as n,P as o,y as r,D as i,J as l,af as d,aM as s,j as c,M as f,K as p,A as u,g as m,h as b,i as g,x as v,m as h,s as C,u as y,a as x,r as k,o as w,p as A,f as T,t as P,n as I,F as j,k as _}from"./index.2d5fe4a0.js";import"./index.2a5bb8c2.js";import"./SearchOutlined.d20919a8.js";import"./raf.f5dd759a.js";import"./CloseOutlined.337001ad.js";import"./debounce.4a39be88.js";import"./LeftOutlined.3ebd57b3.js";import"./CheckOutlined.75abf2fa.js";import{I as R}from"./index.52fb0b02.js";import"./index.0df6741a.js";import"./index.19c2fe03.js";import{T as N}from"./index.368c58b8.js";import{a as U,A as B}from"./Col.b1474ae0.js";import{s as E}from"./index.036829ad.js";import{s as S}from"./UISkeleton.8ae1e5eb.js";import{a as O,P as z}from"./dict.a53fee1f.js";import{s as $}from"./index.8e56e72d.js";import{s as L}from"./UIButton.ca857b3c.js";import"./UIModal.472e2844.js";import{g as V,o as M}from"./index.67855752.js";import{s as Y}from"./index.b628da8d.js";import{s as K}from"./index.0a6b9071.js";import{g as D,o as G}from"./orderConfirm.c1558a45.js";var W=t(U),F=t(B);function X(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var q=N.TabPane,H=a({name:"ACard",mixins:[n],props:{prefixCls:o.string,title:o.VNodeChild,extra:o.VNodeChild,bordered:o.looseBool.def(!0),bodyStyle:o.style,headStyle:o.style,loading:o.looseBool.def(!1),hoverable:o.looseBool.def(!1),type:o.string,size:o.oneOf(r("default","small")),actions:o.VNodeChild,tabList:{type:Array},tabBarExtraContent:o.VNodeChild,activeTabKey:o.string,defaultActiveTabKey:o.string,cover:o.VNodeChild,onTabChange:{type:Function}},setup:function(){return{configProvider:i("configProvider",l)}},data:function(){return{widerPadding:!1}},methods:{getAction:function(e){return e.map((function(t,a){return d(t)&&!s(t)||!d(t)?c("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},[c("span",null,[t])]):null}))},triggerTabChange:function(e){this.$emit("tabChange",e)},isContainGrid:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.forEach((function(t){t&&f(t.type)&&t.type.__ANT_CARD_GRID&&(e=!0)})),e}},render:function(){var e,t,a,n=this.$props,o=n.prefixCls,r=n.headStyle,i=void 0===r?{}:r,l=n.bodyStyle,d=void 0===l?{}:l,s=n.loading,f=n.bordered,m=void 0===f||f,b=n.size,g=void 0===b?"default":b,v=n.type,h=n.tabList,C=n.hoverable,y=n.activeTabKey,x=n.defaultActiveTabKey,k=this.$slots,w=p(this),A=(0,this.configProvider.getPrefixCls)("card",o),T=u(this,"tabBarExtraContent"),P=(X(e={},"".concat(A),!0),X(e,"".concat(A,"-loading"),s),X(e,"".concat(A,"-bordered"),m),X(e,"".concat(A,"-hoverable"),!!C),X(e,"".concat(A,"-contain-grid"),this.isContainGrid(w)),X(e,"".concat(A,"-contain-tabs"),h&&h.length),X(e,"".concat(A,"-").concat(g),"default"!==g),X(e,"".concat(A,"-type-").concat(v),!!v),e),I=0===d.padding||"0px"===d.padding?{padding:24}:void 0,j=c("div",{class:"".concat(A,"-loading-content"),style:I},[c(W,{gutter:8},{default:function(){return[c(F,{span:22},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:8},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}}),c(F,{span:15},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:6},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}}),c(F,{span:18},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:13},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}}),c(F,{span:9},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}})]}}),c(W,{gutter:8},{default:function(){return[c(F,{span:4},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}}),c(F,{span:3},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}}),c(F,{span:16},{default:function(){return[c("div",{class:"".concat(A,"-loading-block")},null)]}})]}})]),_=void 0!==y,R=(X(t={size:"large"},_?"activeKey":"defaultActiveKey",_?y:x),X(t,"tabBarExtraContent",T),X(t,"onChange",this.triggerTabChange),X(t,"class","".concat(A,"-head-tabs")),t),U=h&&h.length?c(N,R,{default:function(){return[h.map((function(e){var t=e.tab,a=e.slots,n=null==a?void 0:a.tab,o=void 0!==t?t:k[n]?k[n](e):null;return c(q,{tab:o,key:e.key,disabled:e.disabled},null)}))]}}):null,B=u(this,"title"),E=u(this,"extra");(B||E||U)&&(a=c("div",{class:"".concat(A,"-head"),style:i},[c("div",{class:"".concat(A,"-head-wrapper")},[B&&c("div",{class:"".concat(A,"-head-title")},[B]),E&&c("div",{class:"".concat(A,"-extra")},[E])]),U]));var S=u(this,"cover"),O=S?c("div",{class:"".concat(A,"-cover")},[S]):null,z=c("div",{class:"".concat(A,"-body"),style:d},[s?j:w]),$=u(this,"actions"),L=$&&$.length?c("ul",{class:"".concat(A,"-actions")},[this.getAction($)]):null;return c("div",{class:P,ref:"cardContainerRef"},[a,O,w?z:null,L])}});var J=a({name:"ACardMeta",props:{prefixCls:o.string,title:o.VNodeChild,description:o.VNodeChild,avatar:o.VNodeChild},setup:function(){return{configProvider:i("configProvider",l)}},render:function(){var e,t,a,n=this.$props.prefixCls,o=(0,this.configProvider.getPrefixCls)("card",n),r=(e={},t="".concat(o,"-meta"),a=!0,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e),i=u(this,"avatar"),l=u(this,"title"),d=u(this,"description"),s=i?c("div",{class:"".concat(o,"-meta-avatar")},[i]):null,f=l?c("div",{class:"".concat(o,"-meta-title")},[l]):null,p=d?c("div",{class:"".concat(o,"-meta-description")},[d]):null,m=f||p?c("div",{class:"".concat(o,"-meta-detail")},[f,p]):null;return c("div",{class:r},[s,m])}});function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Z=a({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:o.string,hoverable:o.looseBool},setup:function(){return{configProvider:i("configProvider",l)}},render:function(){var e,t=this.$props,a=t.prefixCls,n=t.hoverable,o=void 0===n||n,r=(0,this.configProvider.getPrefixCls)("card",a),i=(Q(e={},"".concat(r,"-grid"),!0),Q(e,"".concat(r,"-grid-hoverable"),o),e);return c("div",{class:i},[p(this)])}});H.Meta=J,H.Grid=Z,H.install=function(e){return e.component(H.name,H),e.component(J.name,J),e.component(Z.name,Z),e};var ee=a({name:"UICard",components:{AntCard:H}});const te=h("data-v-540a82bb"),ae=te(((e,t,a,n,o,r)=>{const i=m("AntCard");return b(),g(i,null,{default:te((()=>[v(e.$slots,"default")])),_:3})}));ee.render=ae,ee.__scopeId="data-v-540a82bb";var ne=a({name:"UIInputTextArea",components:{AntInputTextArea:R.TextArea}});const oe=h("data-v-76d5a87b"),re=oe(((e,t,a,n,o,r)=>{const i=m("AntInputTextArea");return b(),g(i,null,{default:oe((()=>[v(e.$slots,"default")])),_:3})}));ne.render=re,ne.__scopeId="data-v-76d5a87b";var ie=a({name:"OrderConfirm",components:{AppTitleBar:K,OrderSteps:E,UIInputTextArea:ne,UICard:ee,Icon:C,UISkeleton:S,UIButton:L,PatentImage:$},setup(){const e=y(),t=x(),a=V(e.query.commodityId),n=k(!1),o=k(!1),r=k(""),i=k(z[0]),l=k({});return w((()=>{n.value=!0,D({commodityId:a,commodityType:"PATENT"}).then((({data:e})=>{l.value=e})).catch((e=>{3200===e.code&&t.push("/order/pay/result?status=0&type=PATENT")})).finally((()=>n.value=!1))})),{PATENT_TYPE:O,PAY_ROUTES:z,remark:r,pageLoading:n,submitLoading:o,currentPayRoute:i,handleBuyClick:()=>{return e=this,n=null,l=function*(){const{payRoute:e,tradeType:n}=i.value;o.value=!0;const{data:l}=yield G({commodityId:a,commodityType:"PATENT",payRoute:e,tradeType:n,remark:r.value}).finally((()=>o.value=!1)),{orderNo:d,tradeNo:s}=l,c=`/order/pay/${"UMS_PAY"===e?"code":"WXPAY"===e?"wechat":"form"}?orderNo=${d}&tradeNo=${s}&type=PATENT&payRoute=${e}&tradeType=${n}`;"UMS_PAY"===e||"WXPAY"===e?yield t.push(c):(Y({tradeNo:s,orderNo:d,type:"PATENT",getContainer:"orderConfirm"}),M(c))},new Promise(((t,a)=>{var o=e=>{try{i(l.next(e))}catch(e){a(e)}},r=e=>{try{i(l.throw(e))}catch(e){a(e)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,r);i((l=l.apply(e,n)).next())}));var e,n,l},orderConfirmation:l}}});const le=h("data-v-5d1606fa");A("data-v-5d1606fa");const de={id:"orderConfirm",class:"orderConfirm"},se={class:"pageWidthWithCenter orderConfirmWrapper"},ce={class:"orderConfirm-left"},fe={class:"orderConfirm-left-patent"},pe={class:"patentContent"},ue={class:"patentContent-image"},me={class:"patentContent-info"},be={class:"patentContent-info-title"},ge={class:"patentContent-info-col"},ve=c("label",null,"专利类型",-1),he=c("label",null,"发明人",-1),Ce={class:"patentContent-info-col"},ye=c("label",null,"专利号",-1),xe=c("label",null,"标签",-1),ke={class:"patentContent-info-col"},we=c("label",null,"法律状态",-1),Ae=c("label",null,"价格",-1),Te={class:"patentContent-info-col"},Pe=c("label",null,"缴费截止",-1),Ie=c("span",null,[c("label",null,"数量"),I("1")],-1),je={class:"orderConfirm-left-remark"},_e={class:"orderConfirm-right"},Re={class:"orderConfirm-right-priceItem"},Ne=c("label",null,"原价",-1),Ue=c("label",null,"VIP会员",-1),Be={class:"orderConfirm-right-priceItem totalAmount"},Ee=c("label",null,"实付款",-1),Se={class:"orderConfirm-right-payRoutes"},Oe={class:"orderConfirm-right-payRoutes-item-info"},ze=I("确认付款");T();const $e=le(((e,t,a,n,o,r)=>{const i=m("OrderSteps"),l=m("AppTitleBar"),d=m("PatentImage"),s=m("UISkeleton"),f=m("UICard"),p=m("UIInputTextArea"),u=m("Icon"),v=m("UIButton");return b(),g("div",de,[c(l,{title:"确认订单"},{default:le((()=>[c(i)])),_:1}),c("div",se,[c("section",ce,[c("div",fe,[c(f,{title:"商品信息"},{default:le((()=>[c(s,{active:"",paragraph:{rows:5},loading:e.pageLoading},{default:le((()=>[c("div",pe,[c("div",ue,[c(d,{category:e.orderConfirmation.category},null,8,["category"])]),c("div",me,[c("h2",be,P(e.orderConfirmation.name),1),c("p",ge,[c("span",null,[ve,I(P(e.orderConfirmation.number),1)]),c("span",null,[he,I(P(e.orderConfirmation.inventorExplain),1)])]),c("p",Ce,[c("span",null,[ye,I(P(e.PATENT_TYPE.label[e.orderConfirmation.type]),1)]),c("span",null,[xe,I(P(e.orderConfirmation.tags),1)])]),c("p",ke,[c("span",null,[we,I(P(e.orderConfirmation.legalStatus),1)]),c("span",null,[Ae,I("￥"+P(e.orderConfirmation.price),1)])]),c("p",Te,[c("span",null,[Pe,I(P(e.orderConfirmation.paymentDeadline||"暂无"),1)]),Ie])])])])),_:1},8,["loading"])])),_:1})]),c("div",je,[c(f,{title:"订单备注"},{default:le((()=>[c(s,{active:"",paragraph:{rows:3},loading:e.pageLoading},{default:le((()=>[c(p,{value:e.remark,"onUpdate:value":t[1]||(t[1]=t=>e.remark=t),"html-type":"textarea",placeholder:"请输入订单备注（选填）",rows:6},null,8,["value"])])),_:1},8,["loading"])])),_:1})])]),c("section",_e,[c(f,{title:"订单金额"},{default:le((()=>[c(s,{active:"",paragraph:{rows:13},loading:e.pageLoading},{default:le((()=>[c("p",Re,[Ne,c("span",null,"￥"+P(e.orderConfirmation.price),1)]),(b(!0),g(j,null,_(e.orderConfirmation.discounts||[],(e=>(b(),g("p",{class:"orderConfirm-right-priceItem",key:e.price},[Ue,c("span",null,"-￥"+P(e.price),1)])))),128)),c("p",Be,[Ee,c("b",null,"￥"+P(e.orderConfirmation.totalAmount),1)]),c("ul",Se,[(b(!0),g(j,null,_(e.PAY_ROUTES,(t=>(b(),g("li",{key:t.icon,onClick:a=>e.currentPayRoute=t,class:"orderConfirm-right-payRoutes-item"},[c(u,{class:"orderConfirm-right-payRoutes-item-payIcon",icon:t.icon},null,8,["icon"]),c("div",Oe,[c("b",null,P(t.label),1),c("p",null,P(t.description),1)]),c("div",{class:["orderConfirm-right-payRoutes-item-radio",[e.currentPayRoute.payRoute===t.payRoute&&"active"]]},[c(u,{icon:"tick"})],2)],8,["onClick"])))),128))]),c(v,{loading:e.submitLoading,class:"orderConfirm-right-payButton",onClick:e.handleBuyClick,"customer-class":"dangerButton",type:"primary",block:""},{default:le((()=>[ze])),_:1},8,["loading","onClick"])])),_:1},8,["loading"])])),_:1})])])])}));ie.render=$e,ie.__scopeId="data-v-5d1606fa";export default ie;
