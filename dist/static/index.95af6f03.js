var t=Object.assign,e=(t,e,a)=>new Promise(((s,n)=>{var l=t=>{try{o(a.next(t))}catch(e){n(e)}},i=t=>{try{o(a.throw(t))}catch(e){n(e)}},o=t=>t.done?s(t.value):Promise.resolve(t.value).then(l,i);o((a=a.apply(t,e)).next())}));import{d as a,_ as s,ay as n,az as l,aA as i,aB as o,aC as r,p as c,f as p,h as u,i as d,j as m,F as v,l as g,k as f,n as T,m as b,t as y,q as S,aD as I,x as h,u as L,a as _,r as P,$ as E,aE as B,o as U,b as k,c as A,aF as x,e as C,g as j}from"./index.99b5cbf9.js";import{_ as w}from"./UITag.1c079494.js";import{_ as N}from"./UIButton.42a08439.js";import{_ as H}from"./UIPagination.8fe2f77d.js";import{_ as M}from"./UISpin.70eb9646.js";import{_ as K}from"./UIEmpty.576f2f7e.js";import{_ as O}from"./UITooltip.360ff998.js";import{b as R,e as F,a as q}from"./patent.6d899c9d.js";import{_ as z}from"./index.3b606668.js";import{_ as $}from"./index.047e017d.js";import{_ as G}from"./index.d42588f1.js";import{_ as V}from"./index.22d001e9.js";import"./vendor.5c0531cb.js";import"./SearchOutlined.0ae6286c.js";import"./omit.91661634.js";import"./toString.1fbe2590.js";import"./isSymbol.12392a00.js";import"./identity.631c0a23.js";import"./_baseSlice.87986fb0.js";import"./CheckOutlined.4985bb8b.js";import"./LeftOutlined.b4237e31.js";import"./debounce.9901331d.js";import"./toNumber.0273d1f5.js";import"./collect.3d37bc5c.js";import"./UICountdown.1d7a8be8.js";import"./_baseProperty.53aacf4d.js";var W=a({name:"ImageList",components:{UITag:w,Icon:s,UIButton:N,VIPBrand:$,StarIcon:z,PatentImage:G,PrePatentCountdown:V},props:{patents:{type:Object,default:()=>[]},startIndex:Number},setup:()=>({PATENT_TYPE:n,PATENT_CERT_STATUS:l,PATENT_ORIGIN_STATUS:i,PATENT_STOCK_STATUS:o,notActivePatent:r})});const Y=S("data-v-021183e4");c("data-v-021183e4");const Q={key:0,class:"patentListBar-list-item"},D={class:"patentListBar-list-item-content"},J={class:"patentListBar-list-item-content-firstFloor"},Z={class:"patentListBar-list-item-content-firstFloor-info"},X={key:0},tt={class:"patentListBar-list-item-content-secondFloor"},et={class:"patentListBar-list-item-content-secondFloor-des"},at=b("专利号："),st={class:"patentListBar-list-item-content-secondFloor-des-tags"},nt=b("领域："),lt={class:"patentListBar-list-item-content-secondFloor-des"},it={class:"patentListBar-list-item-content-thirdFloor"},ot={class:"patentListBar-list-item-content-thirdFloor-status"},rt={class:"patentListBar-list-item-content-thirdFloor-price"},ct=b("零售价："),pt={class:"vipPrice"},ut=b("￥"),dt=b("立即购买");p();const mt=Y(((t,e,a,s,n,l)=>{const i=u("PatentImage"),o=u("PrePatentCountdown"),r=u("StarIcon"),c=u("RouterLink"),p=u("VIPBrand"),S=u("UIButton");return d(),m("ul",{class:"patentListBar-list",style:{paddingTop:145*t.startIndex+"px"}},[(d(!0),m(v,null,g(t.patents,((e,a)=>(d(),m(v,{key:e.number},[a>=t.startIndex&&a<=t.startIndex+30?(d(),m("li",Q,[f("a",{target:"_blank",href:`/patent/${e.number}`},[f("div",{class:["patentListBar-list-item-image patentLabel",e.newest?"new":e.hot?"hot":""]},[f(i,{cover:e.categoryCover},null,8,["cover"])],2)],8,["href"]),f("div",D,[f("div",J,[f("a",{target:"_blank",href:`/patent/${e.number}`},[f("b",{class:"patentListBar-list-item-content-firstFloor-title searchKeyword",innerHTML:e.nameHighlightKey||e.name},null,8,["innerHTML"])],8,["href"]),f("p",Z,[e.stockStatus===t.PATENT_STOCK_STATUS.RESERVING?(d(),m("label",X,[f(o,{patent:e},null,8,["patent"])])):T("v-if",!0),f(r,{patent:e},null,8,["patent"])])]),f("div",tt,[f("p",et,[f("label",null,[at,f("span",{class:"searchKeyword",innerHTML:e.numberHighlightKey||e.number},null,8,["innerHTML"])]),f("label",st,[nt,(d(!0),m(v,null,g((e.tagsHighlightKey||e.tags).split(","),((t,a)=>{var s;return d(),m("span",{class:"searchKeyword",key:t},[f(c,{to:`/patent?word=${encodeURIComponent(null==(s=e.tags)?void 0:s.split(",")[a])}`,innerHTML:t},null,8,["to","innerHTML"]),b(y(a===(e.tagsHighlightKey||e.tags).split(",").length-1?"":"，"),1)])})),128))]),f("label",null,"发明人："+y(e.inventorExplain),1)]),f("p",lt,[f("label",null,"专利类型："+y(t.PATENT_TYPE.label[e.type]),1),f("label",null,"法律状态："+y(e.legalStatus),1)])]),f("div",it,[f("div",ot,[f("span",{class:["patentListBar-list-item-content-thirdFloor-status-tag",e.certStatus===t.PATENT_CERT_STATUS.YIZHENG?"success":e.certStatus===t.PATENT_CERT_STATUS.WEIZHENG?"primary":"disabled"]},y(t.PATENT_CERT_STATUS.label[e.certStatus]),3),f("span",{class:["patentListBar-list-item-content-thirdFloor-status-tag",e.stockStatus===t.PATENT_STOCK_STATUS.CAN_SELL?"success":e.stockStatus===t.PATENT_STOCK_STATUS.PRE_SELL?"primary":"disabled"]},y(t.PATENT_STOCK_STATUS.label[e.stockStatus]),3)]),f("div",rt,[f("label",null,[ct,f("b",null,"￥"+y(e.price),1)]),f(p,{class:"vipBrand"}),f("b",pt,[ut,f("em",null,y(e.vipPrice),1)]),f(c,{class:"buyButton",to:{path:"/order/confirm",query:{commodityId:e.id}}},{default:Y((()=>[f(S,{disabled:t.notActivePatent(e.stockStatus),type:"primary","customer-class":"dangerButton"},{default:Y((()=>[dt])),_:2},1032,["disabled"])])),_:2},1032,["to"])])])])])):T("v-if",!0)],64)))),128))],4)}));W.render=mt,W.__scopeId="data-v-021183e4";var vt=a({name:"TableList",components:{UITag:w,Icon:s,UIButton:N,VIPBrand:$,StarIcon:z,PatentImage:G,PrePatentCountdown:V},props:{patents:{type:Object,default:()=>[]},startIndex:Number},setup:()=>({PATENT_STOCK_STATUS:o,notActivePatent:r})});const gt=S("data-v-3fb2f357");c("data-v-3fb2f357");const ft=I('<section class="patentList-title" data-v-3fb2f357><span class="col-order" data-v-3fb2f357>序号</span><span class="col-name" data-v-3fb2f357>专利名称</span><span class="col-number" data-v-3fb2f357>专利号</span><span class="col-legalStatus" data-v-3fb2f357>法律状态</span><span class="col-tag" data-v-3fb2f357>领域</span><span class="col-inventorExplain" data-v-3fb2f357>发明人</span><span class="col-status" data-v-3fb2f357>状态</span><span class="col-price" data-v-3fb2f357>零售价</span><span class="col-vipPrice" data-v-3fb2f357>VIP价</span><span class="col-options" data-v-3fb2f357>操作</span></section>',1),Tt={key:0,class:"patentList-content-item"},bt={class:"col-order"},yt={class:"col-name searchKeyword"},St={class:"col-legalStatus"},It={class:"col-tag"},ht={class:"col-inventorExplain"},Lt={class:"col-status"},_t={class:"col-price"},Pt={class:"col-vipPrice"},Et={class:"col-options"},Bt=b("立即购买"),Ut={key:0,class:"preStatus"};p();const kt=gt(((t,e,a,s,n,l)=>{const i=u("RouterLink"),o=u("UIButton"),r=u("PrePatentCountdown"),c=u("StarIcon");return d(),m(v,null,[ft,f("section",{class:"patentList-content",style:{paddingTop:45*t.startIndex+"px"}},[(d(!0),m(v,null,g(t.patents,((e,a)=>(d(),m(v,{key:e.number},[a>=t.startIndex&&a<=t.startIndex+30?(d(),m("div",Tt,[f("span",bt,y(a+1),1),f("label",yt,[f("a",{class:["patentLabel",e.newest?"new":e.hot?"hot":""],href:`/patent/${e.number}`,target:"_blank"},[f("b",{innerHTML:e.nameHighlightKey||e.name},null,8,["innerHTML"])],10,["href"])]),f("span",{class:"col-number searchKeyword",innerHTML:e.numberHighlightKey||e.number},null,8,["innerHTML"]),f("span",St,y(e.legalStatus),1),f("span",It,[(d(!0),m(v,null,g((e.tagsHighlightKey||e.tags).split(","),((t,a)=>{var s;return d(),m("span",{class:"searchKeyword",key:t},[f(i,{to:`/patent?word=${encodeURIComponent(null==(s=e.tags)?void 0:s.split(",")[a])}`,innerHTML:t},null,8,["to","innerHTML"]),b(y(a===(e.tagsHighlightKey||e.tags).split(",").length-1?"":","),1)])})),128))]),f("span",ht,y(e.inventorExplain),1),f("span",Lt,y(t.PATENT_STOCK_STATUS.label[e.stockStatus]),1),f("span",_t,"￥"+y(e.price),1),f("span",Pt,"￥"+y(e.vipPrice),1),f("div",Et,[f(i,{class:"buyButton",to:{path:"/order/confirm",query:{commodityId:e.id}}},{default:gt((()=>[f(o,{size:"small",disabled:t.notActivePatent(e.stockStatus),type:"primary","customer-class":"dangerButton"},{default:gt((()=>[Bt])),_:2},1032,["disabled"])])),_:2},1032,["to"]),e.stockStatus===t.PATENT_STOCK_STATUS.RESERVING?(d(),m("div",Ut,[f(r,{patent:e},null,8,["patent"])])):T("v-if",!0),f(c,{class:"starIcon_noGap",patent:e},null,8,["patent"])])])):T("v-if",!0)],64)))),128))],4)],64)}));vt.render=kt,vt.__scopeId="data-v-3fb2f357";var At=a({name:"Patent",components:{UITag:w,Icon:s,UIButton:N,UIPagination:H,UISpin:M,UIEmpty:K,UITooltip:O,ImageList:W,TableList:vt},setup(){const a=h(),s=L(),o=_(),c=P(null),p=P(0),u=P(!1),d=P(!1),m=P("imageList"),v=P(s.query),g=P([]),f=E({total:0,current:1,pageSize:30,totalPages:0}),T=P([]),b=P({visible:!0,text:"收起筛选",icon:"top"}),y=(a,s)=>e(this,null,(function*(){if(u.value)return;u.value=!0,s&&(f.current=1);const{data:e}=yield R(t({size:f.pageSize,no:f.current},a)).finally((()=>u.value=!1));s&&(g.value=[]),g.value=g.value.concat((null==e?void 0:e.list)||[]),f.total=null==e?void 0:e.totalCount,f.current=(null==e?void 0:e.no)+1,f.pageSize=null==e?void 0:e.size,f.totalPages=e.totalPages})),S=()=>e(this,null,(function*(){const{data:t}=yield q();T.value=t||[]})),I=()=>{const t=j(),e=window.innerHeight||Math.min(document.documentElement.clientHeight,document.body.clientHeight),a=c.value.offsetTop,s="tableList"===m.value?45:145,n=g.value.length*s,l=4*s,i=a+l;if(p.value=t>i?parseInt((t-i)/s):0,n+a-l<e+t){if(f.current>f.totalPages)return;y(v.value)}},w=()=>e(this,null,(function*(){d.value=!0,yield y(v.value).finally((()=>d.value=!1)),v.value.listMode&&(m.value=v.value.listMode),window.addEventListener("scroll",I),yield S()}));return B((t=>e(this,null,(function*(){d.value=!0,v.value=t.query,t.query.listMode&&(m.value=t.query.listMode),yield y(t.query,!0).finally((()=>d.value=!1))})))),U((()=>w())),k((()=>window.removeEventListener("scroll",I))),{PATENT_TYPE:n,PATENT_CERT_STATUS:l,PATENT_ORIGIN_STATUS:i,patentListBarRef:c,filterControl:b,handleFilterControl:()=>{b.value=b.value.visible?{visible:!1,text:"显示筛选",icon:"down"}:{visible:!0,text:"收起筛选",icon:"top"}},getPatents:y,refreshList:()=>e(this,null,(function*(){d.value=!0,window.scroll(0,0),yield y(v.value,!0).finally((()=>d.value=!1))})),exportPatent:a=>e(this,null,(function*(){const e={all:{size:-1},result:t({size:f.pageSize},v.value)},s=yield F(e[a]),n=new Date;x(s,`${n.getFullYear()}年${n.getMonth()+1}月${n.getDate()}日--第九区活动专利清单`),C.success("导出成功！")})),paginationOptions:f,patentsTags:T,patents:g,routeQuery:v,loading:u,listLoading:d,router:o,listMode:m,startIndex:p,handleFilterClick:e=>{const{type:a,inventor:s,certStatus:n,word:l}=v.value;o.push({path:"/sales",query:JSON.parse(JSON.stringify(t({word:l,type:a,inventor:s,certStatus:n},e)))})},loginStatus:A((()=>a.getters.loginStatus)),notActivePatent:r}}});const xt=S("data-v-0005b13d");c("data-v-0005b13d");const Ct={class:"pageWidthWithCenter patent"},jt=f("section",{class:"patentSalesImageWrapper"},[f("img",{src:"/static/patentSales.9341c4f1.jpg",alt:""})],-1),wt={class:"patentListBar-options"},Nt=f("div",{class:"patentListBar-options-order"},null,-1),Ht={class:"patentListBar-options-extra"},Mt={key:3,class:"listBottom"},Kt={key:1,class:"emptyWrapper"};p();const Ot=xt(((e,a,s,n,l,i)=>{const o=u("Icon"),r=u("UITooltip"),c=u("ImageList"),p=u("TableList"),g=u("UISpin"),b=u("UIEmpty");return d(),m("div",Ct,[jt,f("section",{ref:"patentListBarRef",class:["patentListBar",!e.loginStatus&&"notSignIn"]},[f("div",wt,[Nt,f("div",Ht,[e.loginStatus?(d(),m(v,{key:0},[T('            <UIButton @click="exportPatent(\'all\')" customer-class="default">导出全部</UIButton>'),T('            <UIButton @click="exportPatent(\'result\')" customer-class="default">导出结果</UIButton>')],64)):T("v-if",!0),f(r,{title:"刷新页面"},{default:xt((()=>[f(o,{onClick:e.refreshList,icon:"refresh"},null,8,["onClick"])])),_:1}),f(r,{title:"切换视图"},{default:xt((()=>["imageList"===e.listMode?(d(),m(o,{key:0,onClick:a[1]||(a[1]=a=>e.router.push({path:"/sales",query:t(t({},e.routeQuery),{listMode:"tableList"})})),icon:"tableList"})):(d(),m(o,{key:1,onClick:a[2]||(a[2]=a=>e.router.push({path:"/sales",query:t(t({},e.routeQuery),{listMode:"imageList"})})),icon:"imageList"}))])),_:1})])]),f(g,{spinning:e.listLoading},{default:xt((()=>[e.patents.length>0?(d(),m(v,{key:0},["imageList"===e.listMode?(d(),m(c,{key:0,startIndex:e.startIndex,patents:e.patents},null,8,["startIndex","patents"])):(d(),m(p,{key:1,startIndex:e.startIndex,patents:e.patents},null,8,["startIndex","patents"])),e.paginationOptions.current<=e.paginationOptions.totalPages?(d(),m(g,{key:2,spinning:e.loading},{default:xt((()=>[f("p",{class:"listBottom",onClick:a[3]||(a[3]=t=>e.getPatents(e.routeQuery))},"点击加载更多")])),_:1},8,["spinning"])):(d(),m("p",Mt,"-------- 我们是有底线的 --------"))],64)):(d(),m("div",Kt,[e.loading?T("v-if",!0):(d(),m(b,{key:0,image:"patent",description:"暂无搜索结果"}))]))])),_:1},8,["spinning"])],2)])}));At.render=Ot,At.__scopeId="data-v-0005b13d";export default At;
