import{d as t,D as n,J as i,E as e,V as o,P as a,Q as r,y as s,X as c,j as d,A as l,K as u,L as f,Y as h}from"./index.2d5fe4a0.js";import{w as m}from"./raf.f5dd759a.js";var p={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},g={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},v=[],b=[];function T(t,n,i){t.addEventListener(n,i,!1)}function y(t,n,i){t.removeEventListener(n,i,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var t=document.createElement("div").style;function n(n,i){for(var e in n)if(n.hasOwnProperty(e)){var o=n[e];for(var a in o)if(a in t){i.push(o[a]);break}}}"AnimationEvent"in window||(delete p.animationstart.animation,delete g.animationend.animation),"TransitionEvent"in window||(delete p.transitionstart.transition,delete g.transitionend.transition),n(p,v),n(g,b)}();var C,w=function(t,n){0!==v.length?v.forEach((function(i){T(t,i,n)})):window.setTimeout(n,0)},E=function(t,n){0!==v.length&&v.forEach((function(i){y(t,i,n)}))},k=function(t,n){0!==b.length?b.forEach((function(i){T(t,i,n)})):window.setTimeout(n,0)},N=function(t,n){0!==b.length&&b.forEach((function(i){y(t,i,n)}))};function O(t){return!t||null===t.offsetParent}var A=t({name:"Wave",props:["insertExtraNode"],setup:function(){return{configProvider:n("configProvider",i)}},mounted:function(){var t=this;e((function(){var n=o(t);1===n.nodeType&&(t.instance=t.bindAnimationEvent(n))}))},beforeUnmount:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId)},methods:{onClick:function(t,n){if(!(!t||O(t)||t.className.indexOf("-leave")>=0)){var i=this.$props.insertExtraNode;this.extraNode=document.createElement("div");var e=this.extraNode;e.className="ant-click-animating-node";var o,a=this.getAttributeName();t.removeAttribute(a),t.setAttribute(a,"true"),C=C||document.createElement("style"),!n||"#ffffff"===n||"rgb(255, 255, 255)"===n||(o=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/))&&o[1]&&o[2]&&o[3]&&o[1]===o[2]&&o[2]===o[3]||/rgba\(\d*, \d*, \d*, 0\)/.test(n)||"transparent"===n||(this.csp&&this.csp.nonce&&(C.nonce=this.csp.nonce),e.style.borderColor=n,C.innerHTML="\n        [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n          --antd-wave-shadow-color: ".concat(n,";\n        }"),document.body.contains(C)||document.body.appendChild(C)),i&&t.appendChild(e),w(t,this.onTransitionStart),k(t,this.onTransitionEnd)}},onTransitionStart:function(t){if(!this._.isUnmounted){var n=o(this);t&&t.target===n&&(this.animationStart||this.resetEffect(n))}},onTransitionEnd:function(t){t&&"fadeEffect"===t.animationName&&this.resetEffect(t.target)},getAttributeName:function(){return this.$props.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"},bindAnimationEvent:function(t){var n=this;if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var i=function(i){if("INPUT"!==i.target.tagName&&!O(i.target)){n.resetEffect(t);var e=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");n.clickWaveTimeoutId=window.setTimeout((function(){return n.onClick(t,e)}),0),m.cancel(n.animationStartId),n.animationStart=!0,n.animationStartId=m((function(){n.animationStart=!1}),10)}};return t.addEventListener("click",i,!0),{cancel:function(){t.removeEventListener("click",i,!0)}}}},resetEffect:function(t){if(t&&t!==this.extraNode&&t instanceof Element){var n=this.$props.insertExtraNode,i=this.getAttributeName();t.setAttribute(i,"false"),C&&(C.innerHTML=""),n&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),E(t,this.onTransitionStart),N(t,this.onTransitionEnd)}}},render:function(){var t,n,i=this.configProvider.csp;return i&&(this.csp=i),null===(n=(t=this.$slots).default)||void 0===n?void 0:n.call(t)[0]}}),P=s("default","primary","ghost","dashed","danger","link"),S=s("circle","circle-outline","round"),x=s("large","default","small"),j=s("submit","button","reset"),z=function(){return{prefixCls:a.string,type:a.oneOf(P),htmlType:a.oneOf(j).def("button"),shape:a.oneOf(S),size:a.oneOf(x).def("default"),loading:r(a.oneOfType([a.looseBool,a.object])),disabled:a.looseBool,ghost:a.looseBool,block:a.looseBool,icon:a.VNodeChild,href:a.string,title:a.string,onClick:a.func}};function I(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,e)}return i}function L(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?I(Object(i),!0).forEach((function(n){B(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function M(){return(M=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function B(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var $=/^[\u4e00-\u9fa5]{2}$/,W=$.test.bind($),D=t({name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:z(),setup:function(){return{configProvider:n("configProvider",i),children:[],iconCom:void 0,delayTimeout:void 0}},data:function(){return{sizeMap:{large:"lg",small:"sm"},sLoading:!1,hasTwoCNChar:!1}},watch:{loading:{handler:function(t,n){var i=this;n&&"boolean"!=typeof n&&clearTimeout(this.delayTimeout),t&&"boolean"!=typeof t&&t.delay?this.delayTimeout=setTimeout((function(){i.sLoading=!!t}),t.delay):this.sLoading=!!t},immediate:!0}},mounted:function(){this.fixTwoCNChar()},updated:function(){this.fixTwoCNChar()},beforeUnmount:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)},methods:{getClasses:function(){var t,n=this.prefixCls,i=this.type,e=this.shape,o=this.size,a=this.hasTwoCNChar,r=this.sLoading,s=this.ghost,c=this.block,d=this.$attrs,l=(0,this.configProvider.getPrefixCls)("btn",n),u=!1!==this.configProvider.autoInsertSpaceInButton,f="";switch(o){case"large":f="lg";break;case"small":f="sm"}var h=r?"loading":this.iconCom;return B(t={},d.class,d.class),B(t,"".concat(l),!0),B(t,"".concat(l,"-").concat(i),i),B(t,"".concat(l,"-").concat(e),e),B(t,"".concat(l,"-").concat(f),f),B(t,"".concat(l,"-icon-only"),0===this.children.length&&h),B(t,"".concat(l,"-loading"),r),B(t,"".concat(l,"-background-ghost"),s||"ghost"===i),B(t,"".concat(l,"-two-chinese-chars"),a&&u),B(t,"".concat(l,"-block"),c),t},fixTwoCNChar:function(){var t=this.$refs.buttonNode;if(t){var n=t.textContent;this.isNeedInserted()&&W(n)?this.hasTwoCNChar||(this.hasTwoCNChar=!0):this.hasTwoCNChar&&(this.hasTwoCNChar=!1)}},handleClick:function(t){this.$data.sLoading||this.$emit("click",t)},insertSpace:function(t,n){var i=n?" ":"";if(t.type===c){var e=t.children.trim();return W(e)&&(e=e.split("").join(i)),d("span",null,[e])}return t},isNeedInserted:function(){var t=this.iconCom,n=this.type;return 1===this.children.length&&!t&&"link"!==n}},render:function(){var t=this;this.iconCom=l(this,"icon");var n=this.type,i=this.htmlType,e=this.iconCom,o=this.disabled,a=this.handleClick,r=this.sLoading,s=this.href,c=this.title,h=this.$attrs,m=u(this);this.children=m;var p=this.getClasses(),g=M(M({},h),{title:c,disabled:o,class:p,onClick:a}),v=r?d(f,null,null):e,b=!1!==this.configProvider.autoInsertSpaceInButton,T=m.map((function(n){return t.insertSpace(n,t.isNeedInserted()&&b)}));if(void 0!==s)return d("a",L(L({},g),{},{href:s,ref:"buttonNode"}),[v,T]);var y=d("button",L(L({},g),{},{ref:"buttonNode",type:i||"button"}),[v,T]);return"link"===n?y:d(A,{ref:"wave"},{default:function(){return[y]}})}});function U(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var V={prefixCls:a.string,size:a.oneOf(s("small","large","default"))},_=t({name:"AButtonGroup",props:V,setup:function(){return{configProvider:n("configProvider",i)}},data:function(){return{sizeMap:{large:"lg",small:"sm"}}},render:function(){var t,n=this.prefixCls,i=this.size,e=(0,this.configProvider.getPrefixCls)("btn-group",n),o="";switch(i){case"large":o="lg";break;case"small":o="sm"}var a=(U(t={},"".concat(e),!0),U(t,"".concat(e,"-").concat(o),o),t);return d("div",{class:a},[h(u(this))])}});D.Group=_,D.install=function(t){return t.component(D.name,D),t.component(_.name,_),t};export{D as B,A as W,V as a,z as b};
